
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Loyalink API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-c9d8fa83.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-953e3353.css" rel="stylesheet" media="print" />
      <script src="javascripts/all_nosearch-ea811c3e.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;ruby&quot;,&quot;python&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-195e3b8b.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="ruby">ruby</a>
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#essential-get" class="toc-h1 toc-link" data-title="Essential Get">Essential Get</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-structures" class="toc-h2 toc-link" data-title="Get All Structures">Get All Structures</a>
                  </li>
                  <li>
                    <a href="#get-structures-tree-with-filters" class="toc-h2 toc-link" data-title="Get Structures Tree with filters">Get Structures Tree with filters</a>
                  </li>
                  <li>
                    <a href="#get-all-segments" class="toc-h2 toc-link" data-title="Get All Segments">Get All Segments</a>
                  </li>
                  <li>
                    <a href="#get-all-others" class="toc-h2 toc-link" data-title="Get All Others">Get All Others</a>
                  </li>
                  <li>
                    <a href="#get-all-polls" class="toc-h2 toc-link" data-title="Get All Polls">Get All Polls</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#get-unsubscribed-emails" class="toc-h1 toc-link" data-title="Get Unsubscribed emails">Get Unsubscribed emails</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-unsubscribed-emails-2" class="toc-h2 toc-link" data-title="Get Unsubscribed Emails">Get Unsubscribed Emails</a>
                  </li>
                  <li>
                    <a href="#parameters-from-amp-to" class="toc-h2 toc-link" data-title="Parameters from &amp; to">Parameters from &amp; to</a>
                  </li>
                  <li>
                    <a href="#example-http-request-with-parameters" class="toc-h2 toc-link" data-title="Example HTTP Request With Parameters">Example HTTP Request With Parameters</a>
                  </li>
                  <li>
                    <a href="#request-restrictions" class="toc-h2 toc-link" data-title="Request Restrictions">Request Restrictions</a>
                  </li>
                  <li>
                    <a href="#response-sample-1" class="toc-h2 toc-link" data-title="Response Sample 1">Response Sample 1</a>
                  </li>
                  <li>
                    <a href="#response-sample-2" class="toc-h2 toc-link" data-title="Response Sample 2">Response Sample 2</a>
                  </li>
                  <li>
                    <a href="#response-sample-3" class="toc-h2 toc-link" data-title="Response Sample 3">Response Sample 3</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#post-emails-to-unsubscribe" class="toc-h1 toc-link" data-title="Post emails to unsubscribe">Post emails to unsubscribe</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#post-emails" class="toc-h2 toc-link" data-title="Post emails">Post emails</a>
                  </li>
                  <li>
                    <a href="#response-sample-1-2" class="toc-h2 toc-link" data-title="Response Sample 1">Response Sample 1</a>
                  </li>
                  <li>
                    <a href="#response-sample-2-2" class="toc-h2 toc-link" data-title="Response Sample 2">Response Sample 2</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#get-users" class="toc-h1 toc-link" data-title="Get Users">Get Users</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-users-2" class="toc-h2 toc-link" data-title="Get Users">Get Users</a>
                  </li>
                  <li>
                    <a href="#parameters-active-amp-emails" class="toc-h2 toc-link" data-title="Parameters active &amp; emails">Parameters active &amp; emails</a>
                  </li>
                  <li>
                    <a href="#example-http-request-with-parameters-2" class="toc-h2 toc-link" data-title="Example HTTP Request With Parameters">Example HTTP Request With Parameters</a>
                  </li>
                  <li>
                    <a href="#request-restrictions-2" class="toc-h2 toc-link" data-title="Request Restrictions">Request Restrictions</a>
                  </li>
                  <li>
                    <a href="#response-sample-1-3" class="toc-h2 toc-link" data-title="Response Sample 1">Response Sample 1</a>
                  </li>
                  <li>
                    <a href="#response-sample-2-3" class="toc-h2 toc-link" data-title="Response Sample 2">Response Sample 2</a>
                  </li>
                  <li>
                    <a href="#response-sample-3-2" class="toc-h2 toc-link" data-title="Response Sample 3">Response Sample 3</a>
                  </li>
                  <li>
                    <a href="#response-sample-4" class="toc-h2 toc-link" data-title="Response Sample 4">Response Sample 4</a>
                  </li>
                  <li>
                    <a href="#response-sample-5" class="toc-h2 toc-link" data-title="Response Sample 5">Response Sample 5</a>
                  </li>
                  <li>
                    <a href="#response-sample-6" class="toc-h2 toc-link" data-title="Response Sample 6">Response Sample 6</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#edit-users-status" class="toc-h1 toc-link" data-title="Edit Users Status">Edit Users Status</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#put-edit-users-status" class="toc-h2 toc-link" data-title="PUT Edit Users Status">PUT Edit Users Status</a>
                  </li>
                  <li>
                    <a href="#accepted-parameters-in-body" class="toc-h2 toc-link" data-title="Accepted Parameters In Body">Accepted Parameters In Body</a>
                  </li>
                  <li>
                    <a href="#example-with-parameters" class="toc-h2 toc-link" data-title="Example With Parameters">Example With Parameters</a>
                  </li>
                  <li>
                    <a href="#response-sample-1-4" class="toc-h2 toc-link" data-title="Response Sample 1">Response Sample 1</a>
                  </li>
                  <li>
                    <a href="#response-sample-2-4" class="toc-h2 toc-link" data-title="Response Sample 2">Response Sample 2</a>
                  </li>
                  <li>
                    <a href="#response-sample-3-3" class="toc-h2 toc-link" data-title="Response Sample 3">Response Sample 3</a>
                  </li>
                  <li>
                    <a href="#response-sample-4-2" class="toc-h2 toc-link" data-title="Response Sample 4">Response Sample 4</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#get-results-number-of-pages" class="toc-h1 toc-link" data-title="Get Results Number of Pages">Get Results Number of Pages</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-results-number-of-pages-2" class="toc-h2 toc-link" data-title="Get Results Number of Pages">Get Results Number of Pages</a>
                  </li>
                  <li>
                    <a href="#accepted-parameters" class="toc-h2 toc-link" data-title="Accepted Parameters">Accepted Parameters</a>
                  </li>
                  <li>
                    <a href="#request-restrictions-3" class="toc-h2 toc-link" data-title="Request Restrictions">Request Restrictions</a>
                  </li>
                  <li>
                    <a href="#example-with-parameters-2" class="toc-h2 toc-link" data-title="Example With Parameters">Example With Parameters</a>
                  </li>
                  <li>
                    <a href="#response-sample-1-5" class="toc-h2 toc-link" data-title="Response Sample 1">Response Sample 1</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#get-results-paginated" class="toc-h1 toc-link" data-title="Get Results Paginated">Get Results Paginated</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-results-paginated-2" class="toc-h2 toc-link" data-title="Get Results Paginated">Get Results Paginated</a>
                  </li>
                  <li>
                    <a href="#accepted-parameters-2" class="toc-h2 toc-link" data-title="Accepted Parameters">Accepted Parameters</a>
                  </li>
                  <li>
                    <a href="#request-restrictions-4" class="toc-h2 toc-link" data-title="Request Restrictions">Request Restrictions</a>
                  </li>
                  <li>
                    <a href="#example-with-required-parameters" class="toc-h2 toc-link" data-title="Example With Required Parameters">Example With Required Parameters</a>
                  </li>
                  <li>
                    <a href="#response-sample-1-6" class="toc-h2 toc-link" data-title="Response Sample 1">Response Sample 1</a>
                  </li>
                  <li>
                    <a href="#example-with-structures-parameters" class="toc-h2 toc-link" data-title="Example With Structures Parameters">Example With Structures Parameters</a>
                  </li>
                  <li>
                    <a href="#response-sample-2-5" class="toc-h2 toc-link" data-title="Response Sample 2">Response Sample 2</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#get-uncompleted-results" class="toc-h1 toc-link" data-title="Get Uncompleted Results">Get Uncompleted Results</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-uncompleted-results-2" class="toc-h2 toc-link" data-title="Get Uncompleted Results">Get Uncompleted Results</a>
                  </li>
                  <li>
                    <a href="#accepted-parameters-3" class="toc-h2 toc-link" data-title="Accepted Parameters">Accepted Parameters</a>
                  </li>
                  <li>
                    <a href="#request-restrictions-5" class="toc-h2 toc-link" data-title="Request Restrictions">Request Restrictions</a>
                  </li>
                  <li>
                    <a href="#example-with-parameters-3" class="toc-h2 toc-link" data-title="Example With Parameters">Example With Parameters</a>
                  </li>
                  <li>
                    <a href="#response-sample-1-7" class="toc-h2 toc-link" data-title="Response Sample 1">Response Sample 1</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#add-segments-others-to-uncompleted-results" class="toc-h1 toc-link" data-title="Add Segments/Others To Uncompleted Results">Add Segments/Others To Uncompleted Results</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#post-segments-others-to-uncompleted-results" class="toc-h2 toc-link" data-title="POST Segments/Others To Uncompleted Results">POST Segments/Others To Uncompleted Results</a>
                  </li>
                  <li>
                    <a href="#accepted-parameters-in-body-2" class="toc-h2 toc-link" data-title="Accepted Parameters In Body">Accepted Parameters In Body</a>
                  </li>
                  <li>
                    <a href="#example-with-parameters-4" class="toc-h2 toc-link" data-title="Example With Parameters">Example With Parameters</a>
                  </li>
                  <li>
                    <a href="#response-sample-1-8" class="toc-h2 toc-link" data-title="Response Sample 1">Response Sample 1</a>
                  </li>
                  <li>
                    <a href="#response-sample-2-6" class="toc-h2 toc-link" data-title="Response Sample 2">Response Sample 2</a>
                  </li>
                  <li>
                    <a href="#response-sample-3-4" class="toc-h2 toc-link" data-title="Response Sample 3">Response Sample 3</a>
                  </li>
                  <li>
                    <a href="#response-sample-4-3" class="toc-h2 toc-link" data-title="Response Sample 4">Response Sample 4</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#disable-results" class="toc-h1 toc-link" data-title="Disable Results">Disable Results</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#disable-results-2" class="toc-h2 toc-link" data-title="Disable Results">Disable Results</a>
                  </li>
                  <li>
                    <a href="#accepted-parameters-4" class="toc-h2 toc-link" data-title="Accepted Parameters">Accepted Parameters</a>
                  </li>
                  <li>
                    <a href="#example-with-parameters-5" class="toc-h2 toc-link" data-title="Example With Parameters">Example With Parameters</a>
                  </li>
                  <li>
                    <a href="#response-sample-1-9" class="toc-h2 toc-link" data-title="Response Sample 1">Response Sample 1</a>
                  </li>
                  <li>
                    <a href="#response-sample-2-7" class="toc-h2 toc-link" data-title="Response Sample 2">Response Sample 2</a>
                  </li>
                  <li>
                    <a href="#response-sample-3-5" class="toc-h2 toc-link" data-title="Response Sample 3">Response Sample 3</a>
                  </li>
                  <li>
                    <a href="#response-sample-4-4" class="toc-h2 toc-link" data-title="Response Sample 4">Response Sample 4</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#upload-results" class="toc-h1 toc-link" data-title="Upload Results">Upload Results</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#post-results-full" class="toc-h2 toc-link" data-title="Post Results Full">Post Results Full</a>
                  </li>
                  <li>
                    <a href="#http-request" class="toc-h2 toc-link" data-title="HTTP Request">HTTP Request</a>
                  </li>
                  <li>
                    <a href="#request-body" class="toc-h2 toc-link" data-title="Request Body">Request Body</a>
                  </li>
                  <li>
                    <a href="#allowed-parameters" class="toc-h2 toc-link" data-title="Allowed Parameters">Allowed Parameters</a>
                  </li>
                  <li>
                    <a href="#acerca-de-los-campos-seg_" class="toc-h2 toc-link" data-title="Acerca de los campos seg_*">Acerca de los campos seg_*</a>
                  </li>
                  <li>
                    <a href="#acerca-de-los-campos-otros_" class="toc-h2 toc-link" data-title="Acerca de los campos otros_*">Acerca de los campos otros_*</a>
                  </li>
                  <li>
                    <a href="#maxima-cantidad-de-registros-a-insertar" class="toc-h2 toc-link" data-title="Máxima cantidad de registros a insertar">Máxima cantidad de registros a insertar</a>
                  </li>
                  <li>
                    <a href="#forget-required-parameter" class="toc-h2 toc-link" data-title="Forget Required Parameter">Forget Required Parameter</a>
                  </li>
                  <li>
                    <a href="#type-of-request-1" class="toc-h2 toc-link" data-title="Type Of Request 1">Type Of Request 1</a>
                  </li>
                  <li>
                    <a href="#body-en-formato-json" class="toc-h2 toc-link" data-title="Body en formato JSON">Body en formato JSON</a>
                  </li>
                  <li>
                    <a href="#request" class="toc-h2 toc-link" data-title="Request">Request</a>
                  </li>
                  <li>
                    <a href="#response" class="toc-h2 toc-link" data-title="Response">Response</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#send-surveys-massive-endpoint" class="toc-h1 toc-link" data-title="Send Surveys (massive endpoint)">Send Surveys (massive endpoint)</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#post-surveys" class="toc-h2 toc-link" data-title="Post Surveys">Post Surveys</a>
                  </li>
                  <li>
                    <a href="#http-request-2" class="toc-h2 toc-link" data-title="HTTP Request">HTTP Request</a>
                  </li>
                  <li>
                    <a href="#request-body-2" class="toc-h2 toc-link" data-title="Request Body">Request Body</a>
                  </li>
                  <li>
                    <a href="#required-parameters" class="toc-h2 toc-link" data-title="Required Parameters">Required Parameters</a>
                  </li>
                  <li>
                    <a href="#optional-headers" class="toc-h2 toc-link" data-title="Optional Headers">Optional Headers</a>
                  </li>
                  <li>
                    <a href="#type-of-request-1-2" class="toc-h2 toc-link" data-title="Type Of Request 1">Type Of Request 1</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#send-survey-unit-endpoint" class="toc-h1 toc-link" data-title="Send Survey (unit endpoint)">Send Survey (unit endpoint)</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#post-a-survey" class="toc-h2 toc-link" data-title="Post A Survey">Post A Survey</a>
                  </li>
                  <li>
                    <a href="#http-request-3" class="toc-h2 toc-link" data-title="HTTP Request">HTTP Request</a>
                  </li>
                  <li>
                    <a href="#request-body-3" class="toc-h2 toc-link" data-title="Request Body">Request Body</a>
                  </li>
                  <li>
                    <a href="#required-parameters-2" class="toc-h2 toc-link" data-title="Required Parameters">Required Parameters</a>
                  </li>
                  <li>
                    <a href="#optional-headers-2" class="toc-h2 toc-link" data-title="Optional Headers">Optional Headers</a>
                  </li>
                  <li>
                    <a href="#type-of-request-1-3" class="toc-h2 toc-link" data-title="Type Of Request 1">Type Of Request 1</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#get-link-for-push-unit-endpoint" class="toc-h1 toc-link" data-title="Get Link for Push (unit endpoint)">Get Link for Push (unit endpoint)</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-link-for-push" class="toc-h2 toc-link" data-title="Get Link for Push">Get Link for Push</a>
                  </li>
                  <li>
                    <a href="#http-request-4" class="toc-h2 toc-link" data-title="HTTP Request">HTTP Request</a>
                  </li>
                  <li>
                    <a href="#request-body-4" class="toc-h2 toc-link" data-title="Request Body">Request Body</a>
                  </li>
                  <li>
                    <a href="#required-parameters-3" class="toc-h2 toc-link" data-title="Required Parameters">Required Parameters</a>
                  </li>
                  <li>
                    <a href="#optional-headers-3" class="toc-h2 toc-link" data-title="Optional Headers">Optional Headers</a>
                  </li>
                  <li>
                    <a href="#response-sample-1-10" class="toc-h2 toc-link" data-title="Response Sample 1">Response Sample 1</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#get-alerts-in-progress" class="toc-h1 toc-link" data-title="Get Alerts In Progress">Get Alerts In Progress</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-alerts-in-progress-2" class="toc-h2 toc-link" data-title="Get Alerts In Progress">Get Alerts In Progress</a>
                  </li>
                  <li>
                    <a href="#accepted-parameters-5" class="toc-h2 toc-link" data-title="Accepted Parameters">Accepted Parameters</a>
                  </li>
                  <li>
                    <a href="#request-restrictions-6" class="toc-h2 toc-link" data-title="Request Restrictions">Request Restrictions</a>
                  </li>
                  <li>
                    <a href="#example-with-required-parameters-2" class="toc-h2 toc-link" data-title="Example With Required Parameters">Example With Required Parameters</a>
                  </li>
                  <li>
                    <a href="#response-sample-1-11" class="toc-h2 toc-link" data-title="Response Sample 1">Response Sample 1</a>
                  </li>
                  <li>
                    <a href="#example-with-emails-segments_ids-others_ids-parameters" class="toc-h2 toc-link" data-title="Example With emails, segments_ids, others_ids Parameters">Example With emails, segments_ids, others_ids Parameters</a>
                  </li>
                  <li>
                    <a href="#response-sample-2-8" class="toc-h2 toc-link" data-title="Response Sample 2">Response Sample 2</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#post-close-alerts-in-progress" class="toc-h1 toc-link" data-title="Post Close Alerts In Progress">Post Close Alerts In Progress</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#post-close-alerts-in-progress-2" class="toc-h2 toc-link" data-title="Post Close Alerts In Progress">Post Close Alerts In Progress</a>
                  </li>
                  <li>
                    <a href="#accepted-parameters-in-body-3" class="toc-h2 toc-link" data-title="Accepted Parameters In Body">Accepted Parameters In Body</a>
                  </li>
                  <li>
                    <a href="#request-restrictions-7" class="toc-h2 toc-link" data-title="Request Restrictions">Request Restrictions</a>
                  </li>
                  <li>
                    <a href="#example-with-parameters-6" class="toc-h2 toc-link" data-title="Example With Parameters">Example With Parameters</a>
                  </li>
                  <li>
                    <a href="#response-sample-1-12" class="toc-h2 toc-link" data-title="Response Sample 1">Response Sample 1</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#internal-error-codes" class="toc-h2 toc-link" data-title="Internal Error Codes">Internal Error Codes</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://www.loyal.ink/' target="_blank">Loyalink</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<blockquote>
<p>Ejemplo de consulta con las 2 keys dentro de los headers</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> GET <span class="s1">'https://api-example.loyal.ink/api/v2/others'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Public-Key: your-public-api-key'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Loyalink-Signature: your-loyalink-signature'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">''</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s2">"uri"</span>
<span class="nb">require</span> <span class="s2">"net/http"</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api-example.loyal.ink/api/v2/others"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">);</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Public-Key"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-public-api-key"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Loyalink-Signature"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-loyalink-signature"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>
<span class="kn">import</span> <span class="nn">mimetypes</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"api-example.loyal.ink"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Public-Key'</span><span class="p">:</span> <span class="s">'your-public-api-key'</span><span class="p">,</span>
  <span class="s">'Loyalink-Signature'</span><span class="p">:</span> <span class="s">'your-loyalink-signature'</span>
<span class="p">}</span>
<span class="n">conn</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/v2/others"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">myHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">();</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Public-Key</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-public-api-key</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Loyalink-Signature</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-loyalink-signature</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">raw</span> <span class="o">=</span> <span class="dl">""</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">requestOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="nx">myHeaders</span><span class="p">,</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">raw</span><span class="p">,</span>
  <span class="na">redirect</span><span class="p">:</span> <span class="dl">'</span><span class="s1">follow</span><span class="dl">'</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://api-example.loyal.ink/api/v2/others</span><span class="dl">"</span><span class="p">,</span> <span class="nx">requestOptions</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">));</span>
</code></pre></div>
<p>Todas las peticiones a la API requieren llevar en el header 2 parametros, <strong>PUBLIC_KEY</strong> y <strong>LOYALINK_SIGNATURE</strong>.</p>

<p>Ambas credenciales deben ser solicitadas a soporte@alco.cl</p>

<aside class="notice">
Debes reemplazar <code>Public-Key</code>, <code>Loyalink-Signature</code> y <code>api-example</code> con los datos que recibirás.
</aside>
<h1 id='essential-get'>Essential Get</h1><h2 id='get-all-structures'>Get All Structures</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> GET <span class="s1">'https://api-example.loyal.ink/api/v2/structures'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Public-Key: your-public-api-key'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Loyalink-Signature: your-loyalink-signature'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">''</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s2">"uri"</span>
<span class="nb">require</span> <span class="s2">"net/http"</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api-example.loyal.ink/api/v2/structures"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">);</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Public-Key"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-public-api-key"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Loyalink-Signature"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-loyalink-signature"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>
<span class="kn">import</span> <span class="nn">mimetypes</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"api-example.loyal.ink"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Public-Key'</span><span class="p">:</span> <span class="s">'your-public-api-key'</span><span class="p">,</span>
  <span class="s">'Loyalink-Signature'</span><span class="p">:</span> <span class="s">'your-loyalink-signature'</span>
<span class="p">}</span>
<span class="n">conn</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/v2/structures"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">myHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">();</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Public-Key</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-public-api-key</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Loyalink-Signature</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-loyalink-signature</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">raw</span> <span class="o">=</span> <span class="dl">""</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">requestOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="nx">myHeaders</span><span class="p">,</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">raw</span><span class="p">,</span>
  <span class="na">redirect</span><span class="p">:</span> <span class="dl">'</span><span class="s1">follow</span><span class="dl">'</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://api-example.loyal.ink/api/v2/structures</span><span class="dl">"</span><span class="p">,</span> <span class="nx">requestOptions</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">));</span>
</code></pre></div>
<blockquote>
<p>El comando retorna un json de este tipo:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bo_test_structure_17"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bo_test_structure_18"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bo_test_structure_19"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bo_test_structure_21"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Este endpoint obtiene únicamente el campo code de la tabla structures, y su request http es <code>GET https://api-example.loyal.ink/api/v2/structures</code>.</p>
<h2 id='get-structures-tree-with-filters'>Get Structures Tree with filters</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> GET <span class="s1">'https://api-example.loyal.ink/api/v2/structures/results?id_level_6=271&amp;status=0'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Public-Key: your-public-api-key'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Loyalink-Signature: your-loyalink-signature'</span> <span class="se">\</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s2">"uri"</span>
<span class="nb">require</span> <span class="s2">"net/http"</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api-example.loyal.ink/api/v2/structures/results?id_level_6=271&amp;status=0"</span><span class="p">)</span>

<span class="n">https</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">https</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Public-Key"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-public-api-key"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Loyalink-Signature"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-loyalink-signature"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">https</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"api-example.loyal.ink"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Public-Key'</span><span class="p">:</span> <span class="s">'your-public-api-key'</span><span class="p">,</span>
  <span class="s">'Loyalink-Signature'</span><span class="p">:</span> <span class="s">'your-loyalink-signature'</span>
<span class="p">}</span>
<span class="n">conn</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/v2/structures/results?id_level_6=271&amp;status=0"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">myHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">();</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Public-Key</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-public-api-key</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Loyalink-Signature</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-loyalink-signature</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">requestOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="nx">myHeaders</span><span class="p">,</span>
  <span class="na">redirect</span><span class="p">:</span> <span class="dl">'</span><span class="s1">follow</span><span class="dl">'</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://api-example.loyal.ink/api/v2/structures/results?id_level_6=271&amp;status=0</span><span class="dl">"</span><span class="p">,</span> <span class="nx">requestOptions</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">));</span>
</code></pre></div>
<blockquote>
<p>El comando retorna un json de este tipo:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"level_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name_level_2_from_structure_with_id_level_6_271"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"level_3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name_level_3_from_structure_with_id_level_6_271"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"level_4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name_level_4_from_structure_with_id_level_6_271"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"level_5"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name_level_5_from_structure_with_id_level_6_271"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"level_6"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name_level_6_from_structure_with_id_level_6_271"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"level_7"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id_level_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"103"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id_level_3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"863"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id_level_4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"864"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id_level_5"</span><span class="p">:</span><span class="w"> </span><span class="s2">"865"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id_level_6"</span><span class="p">:</span><span class="w"> </span><span class="s2">"271"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id_level_7"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"code_from_structure_with_id_level_6_271"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Parameters active &amp; emails</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>false</td>
<td>1 para estructuras activas (son las que están visibles en los filtros de la aplicación loyalink) y 0 para estructuras inactivas (la omisión del parámetro implica que se obtendrá toda la lista sin discriminar el status).</td>
</tr>
<tr>
<td>id_level_2</td>
<td>false</td>
<td>Admite ids de estructuras de nivel 2.</td>
</tr>
<tr>
<td>id_level_3</td>
<td>false</td>
<td>Admite ids de estructuras de nivel 3.</td>
</tr>
<tr>
<td>id_level_4</td>
<td>false</td>
<td>Admite ids de estructuras de nivel 4.</td>
</tr>
<tr>
<td>id_level_5</td>
<td>false</td>
<td>Admite ids de estructuras de nivel 5.</td>
</tr>
<tr>
<td>id_level_6</td>
<td>false</td>
<td>Admite ids de estructuras de nivel 6.</td>
</tr>
<tr>
<td>id_level_7</td>
<td>false</td>
<td>Admite ids de estructuras de nivel 7.</td>
</tr>
</tbody></table>

<p>Este endpoint obtiene el árbol de estructuras para todas las que coincidan con el criterio filtrado, y su request http es <code>GET https://api-example.loyal.ink/api/v2/structures/results</code>.</p>
<h2 id='get-all-segments'>Get All Segments</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> GET <span class="s1">'https://api-example.loyal.ink/api/v2/segments'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Public-Key: your-public-api-key'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Loyalink-Signature: your-loyalink-signature'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">''</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s2">"uri"</span>
<span class="nb">require</span> <span class="s2">"net/http"</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api-example.loyal.ink/api/v2/segments"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">);</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Public-Key"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-public-api-key"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Loyalink-Signature"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-loyalink-signature"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>
<span class="kn">import</span> <span class="nn">mimetypes</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"api-example.loyal.ink"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Public-Key'</span><span class="p">:</span> <span class="s">'your-public-api-key'</span><span class="p">,</span>
  <span class="s">'Loyalink-Signature'</span><span class="p">:</span> <span class="s">'your-loyalink-signature'</span>
<span class="p">}</span>
<span class="n">conn</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/v2/segments"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">myHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">();</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Public-Key</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-public-api-key</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Loyalink-Signature</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-loyalink-signature</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">raw</span> <span class="o">=</span> <span class="dl">""</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">requestOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="nx">myHeaders</span><span class="p">,</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">raw</span><span class="p">,</span>
  <span class="na">redirect</span><span class="p">:</span> <span class="dl">'</span><span class="s1">follow</span><span class="dl">'</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://api-example.loyal.ink/api/v2/segments</span><span class="dl">"</span><span class="p">,</span> <span class="nx">requestOptions</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">));</span>
</code></pre></div>
<blockquote>
<p>El comando retorna un json de este tipo:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
            </span><span class="nl">"code_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seg_genero"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"code_3"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"level"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">102</span><span class="p">,</span><span class="w">
            </span><span class="nl">"code_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seg_genero"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"code_3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gen_1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"level"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">103</span><span class="p">,</span><span class="w">
            </span><span class="nl">"code_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seg_genero"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"code_3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gen_2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"level"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">104</span><span class="p">,</span><span class="w">
            </span><span class="nl">"code_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seg_genero"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"code_3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gen_3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"level"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">105</span><span class="p">,</span><span class="w">
            </span><span class="nl">"code_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seg_edad"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"code_3"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"level"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">106</span><span class="p">,</span><span class="w">
            </span><span class="nl">"code_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seg_edad"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"code_3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"edad_1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"level"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Este endpoint obtiene los campos id, code_2, code_3 y level de la tabla segments, y su request http es <code>GET https://api-example.loyal.ink/api/v2/segments</code>.</p>
<h2 id='get-all-others'>Get All Others</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> GET <span class="s1">'https://api-example.loyal.ink/api/v2/others'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Public-Key: your-public-api-key'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Loyalink-Signature: your-loyalink-signature'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">''</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s2">"uri"</span>
<span class="nb">require</span> <span class="s2">"net/http"</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api-example.loyal.ink/api/v2/others"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">);</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Public-Key"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-public-api-key"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Loyalink-Signature"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-loyalink-signature"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>
<span class="kn">import</span> <span class="nn">mimetypes</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"api-example.loyal.ink"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Public-Key'</span><span class="p">:</span> <span class="s">'your-public-api-key'</span><span class="p">,</span>
  <span class="s">'Loyalink-Signature'</span><span class="p">:</span> <span class="s">'your-loyalink-signature'</span>
<span class="p">}</span>
<span class="n">conn</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/v2/others"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">myHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">();</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Public-Key</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-public-api-key</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Loyalink-Signature</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-loyalink-signature</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">raw</span> <span class="o">=</span> <span class="dl">""</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">requestOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="nx">myHeaders</span><span class="p">,</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">raw</span><span class="p">,</span>
  <span class="na">redirect</span><span class="p">:</span> <span class="dl">'</span><span class="s1">follow</span><span class="dl">'</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://api-example.loyal.ink/api/v2/others</span><span class="dl">"</span><span class="p">,</span> <span class="nx">requestOptions</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">));</span>
</code></pre></div>
<blockquote>
<p>El comando retorna un json de este tipo:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> 
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
            </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"otros_example1"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">102</span><span class="p">,</span><span class="w">
            </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"otros_example2"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">103</span><span class="p">,</span><span class="w">
            </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"otros_example3"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Este endpoint obtiene los campos id y code de la tabla others, y su request http es <code>GET https://api-example.loyal.ink/api/v2/others</code>.</p>
<h2 id='get-all-polls'>Get All Polls</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> GET <span class="s1">'https://api-example.loyal.ink/api/v2/polls'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Public-Key: your-public-api-key'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Loyalink-Signature: your-loyalink-signature'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">''</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s2">"uri"</span>
<span class="nb">require</span> <span class="s2">"net/http"</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api-example.loyal.ink/api/v2/polls"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">);</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Public-Key"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-public-api-key"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Loyalink-Signature"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-loyalink-signature"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>
<span class="kn">import</span> <span class="nn">mimetypes</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"api-example.loyal.ink"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Public-Key'</span><span class="p">:</span> <span class="s">'your-public-api-key'</span><span class="p">,</span>
  <span class="s">'Loyalink-Signature'</span><span class="p">:</span> <span class="s">'your-loyalink-signature'</span>
<span class="p">}</span>
<span class="n">conn</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/v2/polls"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">myHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">();</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Public-Key</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-public-api-key</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Loyalink-Signature</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-loyalink-signature</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">raw</span> <span class="o">=</span> <span class="dl">""</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">requestOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="nx">myHeaders</span><span class="p">,</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">raw</span><span class="p">,</span>
  <span class="na">redirect</span><span class="p">:</span> <span class="dl">'</span><span class="s1">follow</span><span class="dl">'</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://api-example.loyal.ink/api/v2/polls</span><span class="dl">"</span><span class="p">,</span> <span class="nx">requestOptions</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">));</span>
</code></pre></div>
<blockquote>
<p>El comando retorna un json de este tipo:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TEST_CODE_1"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TEST_CODE_2"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TEST_CODE_3"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Este endpoint obtiene únicamente el campo code de la tabla polls, y su request http es <code>GET https://api-example.loyal.ink/api/v2/polls</code>.</p>
<h1 id='get-unsubscribed-emails'>Get Unsubscribed emails</h1><h2 id='get-unsubscribed-emails-2'>Get Unsubscribed Emails</h2>
<p>Este endpoint obtiene la lista de correos desuscritos, y su request http es <code>GET https://api-example.loyal.ink/api/v2/emails/unsubscribed?from=&lt;START_DATE&gt;&amp;to=&lt;END_DATE&gt;</code>.</p>
<h2 id='parameters-from-amp-to'>Parameters from &amp; to</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>from</td>
<td>true</td>
<td>Fecha en formato YYYY-MM-DD.</td>
</tr>
<tr>
<td>to</td>
<td>true</td>
<td>Fecha en formato YYYY-MM-DD.</td>
</tr>
</tbody></table>
<h2 id='example-http-request-with-parameters'>Example HTTP Request With Parameters</h2>
<p><code>GET https://api-example.loyal.ink/api/v2/emails/unsubscribed?from=2019-05-15&amp;to=2019-05-29</code></p>
<h2 id='request-restrictions'>Request Restrictions</h2>
<ol>
<li>El rango de días entre from y to puede ser de a lo más 15 días.</li>
<li>Para consultar todos correos desuscritos de un solo día, se debe enviar como parametros from y to con el mismo valor.</li>
</ol>
<h2 id='response-sample-1'>Response Sample 1</h2>
<blockquote>
<p>Respuesta obtenida:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Campo no encontrado."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"internal_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">601</span><span class="p">,</span><span class="w">
        </span><span class="nl">"detailed_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Falta un campo requerido."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"wrong_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"from"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"index_register"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trace_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f23850f44664734925461"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Petición sin los parametros from y to.</p>

<p><code>GET https://api-example.loyal.ink/api/v2/emails/unsubscribed</code></p>
<h2 id='response-sample-2'>Response Sample 2</h2>
<blockquote>
<p>Respuesta obtenida:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Campo con error de formato."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"internal_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">603</span><span class="p">,</span><span class="w">
        </span><span class="nl">"detailed_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Error de formato en la fecha (formato aceptado YYYY-MM-DD)."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"wrong_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"to"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"index_register"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trace_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f238d1944664171760529"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Petición de formato invalido.</p>

<p><code>GET https://api-example.loyal.ink/api/v2/emails/unsubscribed?from=2018-05-15&amp;to=322322sa</code></p>
<h2 id='response-sample-3'>Response Sample 3</h2>
<blockquote>
<p>Respuesta obtenida:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w">
            </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example@gmail.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">19</span><span class="p">,</span><span class="w">
            </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example2@gmail.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Petición exitosa.</p>
<h1 id='post-emails-to-unsubscribe'>Post emails to unsubscribe</h1><h2 id='post-emails'>Post emails</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://api-example.loyal.ink/api/v2/users/unsubscribe'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Public-Key: your-public-api-key'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Loyalink-Signature: your-loyalink-signature'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: text/plain'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "emails": "example1@loyal.ink,example2@loyal.ink"
}'</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s2">"uri"</span>
<span class="nb">require</span> <span class="s2">"net/http"</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api-example.loyal.ink/api/v2/users/unsubscribe"</span><span class="p">)</span>

<span class="n">https</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">https</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Public-Key"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-public-api-key"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Loyalink-Signature"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-loyalink-signature"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Content-Type"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"text/plain"</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\r\n</span><span class="s2">    </span><span class="se">\"</span><span class="s2">emails</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">example1@loyal.ink,example2@loyal.ink</span><span class="se">\"\r\n</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">https</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"api-example.loyal.ink"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\r\n</span><span class="s">    </span><span class="se">\"</span><span class="s">emails</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">example1@loyal.ink,example2@loyal.ink</span><span class="se">\"\r\n</span><span class="s">}"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Public-Key'</span><span class="p">:</span> <span class="s">'your-public-api-key'</span><span class="p">,</span>
  <span class="s">'Loyalink-Signature'</span><span class="p">:</span> <span class="s">'your-loyalink-signature'</span><span class="p">,</span>
  <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'text/plain'</span>
<span class="p">}</span>
<span class="n">conn</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/v2/users/unsubscribe"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">myHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">();</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Public-Key</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-public-api-key</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Loyalink-Signature</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-loyalink-signature</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">text/plain</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">raw</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">{</span><span class="se">\r\n</span><span class="s2">    </span><span class="se">\"</span><span class="s2">emails</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">example1@loyal.ink,example2@loyal.ink</span><span class="se">\"\r\n</span><span class="s2">}</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">requestOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="nx">myHeaders</span><span class="p">,</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">raw</span><span class="p">,</span>
  <span class="na">redirect</span><span class="p">:</span> <span class="dl">'</span><span class="s1">follow</span><span class="dl">'</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://api-example.loyal.ink/api/v2/users/unsubscribe</span><span class="dl">"</span><span class="p">,</span> <span class="nx">requestOptions</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">));</span>
</code></pre></div>
<p>Este endpoint permite añadir correos a la lista de desuscritos incluyéndolos como data-raw, y su request http es <code>POST https://api-example.loyal.ink/api/v2/users/unsubscribe</code>.</p>
<h2 id='response-sample-1-2'>Response Sample 1</h2>
<blockquote>
<p>Respuesta obtenida:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Registros ya existentes."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"internal_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">626</span><span class="p">,</span><span class="w">
        </span><span class="nl">"detailed_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ningun registro pudo ser insertado, estos ya han sido desuscritos."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trace_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"603e9fa0168f0518125454"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>En caso de que se intente añadir solo correos preexistentes en la lista (basta con que se logre insertar un correo para que la respuesta sea 200).</p>
<h2 id='response-sample-2-2'>Response Sample 2</h2>
<blockquote>
<p>Respuesta obtenida:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Los registros han sido insertados exitosamente."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Post exitoso para al menos uno de los correos que se intentó desuscribir.</p>
<h1 id='get-users'>Get Users</h1><h2 id='get-users-2'>Get Users</h2>
<p>Este endpoint obtiene los campos email, active y profile_name de la tabla users, y su request http es <code>GET https://api-example.loyal.ink/api/v2/users?active=&lt;ACTIVE_STATUS&gt;&amp;emails=&lt;EMAILS_LIST&gt;</code>.</p>
<h2 id='parameters-active-amp-emails'>Parameters active &amp; emails</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>active</td>
<td>false</td>
<td>Estado de los usuarios que se desea obtener en la respuesta (ej: active=0 =&gt; usuarios 100% inactivos, active=1 =&gt; usuarios activos más los pendientes de activación vía correo que se verán reflejados con active=2)</td>
</tr>
<tr>
<td>emails</td>
<td>false</td>
<td>Lista de correos a consultar separados por coma (ej: emails=email1@test.com,email2@test.com,email3@test.com)</td>
</tr>
</tbody></table>
<h2 id='example-http-request-with-parameters-2'>Example HTTP Request With Parameters</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> GET <span class="s1">'https://api-example.loyal.ink/api/v2/users?emails=email1@test.com,email2@test.com,email3@test.com&amp;active=1'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Public-Key: your-public-api-key'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Loyalink-Signature: your-loyalink-signature'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">''</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s2">"uri"</span>
<span class="nb">require</span> <span class="s2">"net/http"</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api-example.loyal.ink/api/v2/users?emails=email1@test.com,email2@test.com,email3@test.com&amp;active=1"</span><span class="p">)</span>

<span class="n">https</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">https</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Public-Key"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-public-api-key"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Loyalink-Signature"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-loyalink-signature"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">https</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"api-example.loyal.ink"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Public-Key'</span><span class="p">:</span> <span class="s">'your-public-api-key'</span><span class="p">,</span>
  <span class="s">'Loyalink-Signature'</span><span class="p">:</span> <span class="s">'your-loyalink-signature'</span>
<span class="p">}</span>
<span class="n">conn</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/v2/users?emails=email1@test.com,email2@test.com,email3@test.com&amp;active=1"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">myHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">();</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Public-Key</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-public-api-key</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Loyalink-Signature</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-loyalink-signature</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">raw</span> <span class="o">=</span> <span class="dl">""</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">requestOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="nx">myHeaders</span><span class="p">,</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">raw</span><span class="p">,</span>
  <span class="na">redirect</span><span class="p">:</span> <span class="dl">'</span><span class="s1">follow</span><span class="dl">'</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://api-example.loyal.ink/api/v2/users?emails=email1@test.com,email2@test.com,email3@test.com&amp;active=1</span><span class="dl">"</span><span class="p">,</span> <span class="nx">requestOptions</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">));</span>
</code></pre></div>
<p><code>GET https://api-example.loyal.ink/api/v2/users?emails=email1@test.com,email2@test.com,email3@test.com&amp;active=1</code></p>
<h2 id='request-restrictions-2'>Request Restrictions</h2>
<ol>
<li>Los valores aceptados en el campo active pueden ser únicamente 0 o 1, donde 1 incluye los pendientes de activación vía correo ya que en cualquier momento podrían pasar a ser usuarios activos.</li>
<li>Los valores dentro del campo emails deben ser separados por una coma (,) y deben ser correos validos.</li>
</ol>
<h2 id='response-sample-1-3'>Response Sample 1</h2>
<blockquote>
<p>Respuesta obtenida:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email1@test.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"profile_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"profile1312"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email2@test.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"profile_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"profile1312"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email3@test.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"profile_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"profile1312"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email4@test.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"profile_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"profile1312"</span><span class="w">
        </span><span class="p">}</span><span class="w">            
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Lo que se obtiene al consultar la lista completa de usuarios con <code>GET https://api-example.loyal.ink/api/v2/users</code> (distintos estados para cada usuario).</p>
<h2 id='response-sample-2-3'>Response Sample 2</h2>
<blockquote>
<p>Respuesta obtenida:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email1@test.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"profile_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"profile1312"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email2@test.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"profile_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"profile1312"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email4@test.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"profile_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"profile1312"</span><span class="w">
        </span><span class="p">}</span><span class="w">            
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Lo que se obtiene al utilizar el parámetro active=1 (<code>GET https://api-example.loyal.ink/api/v2/users?active=1</code>, solo usuarios con estado 1 o 2).</p>
<h2 id='response-sample-3-2'>Response Sample 3</h2>
<blockquote>
<p>Respuesta obtenida:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email1@test.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"profile_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"profile1312"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email3@test.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"profile_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"profile1312"</span><span class="w">
        </span><span class="p">}</span><span class="w">        
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Obtener usuarios basados en una lista de correos utilizando <code>GET https://api-example.loyal.ink/api/v2/users?emails=email1@test.com,email3@test.com,email5@test.com</code> (email5@test.com no existe por lo tanto no es retornado).</p>
<h2 id='response-sample-4'>Response Sample 4</h2>
<blockquote>
<p>Respuesta obtenida:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email1@test.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"profile_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"profile1312"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Obtener usuarios basados en el parámetro active y además una lista de correos utilizando <code>GET https://api-example.loyal.ink/api/v2/users?emails=email1@test.com,email3@test.com&amp;active=1</code> (email3@test.com tiene active=0 por lo que no se retorna).</p>
<h2 id='response-sample-5'>Response Sample 5</h2>
<blockquote>
<p>Respuesta obtenida:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Valor no permitido."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"internal_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">610</span><span class="p">,</span><span class="w">
        </span><span class="nl">"detailed_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"El valor de active contiene un valor incorrecto."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"wrong_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"index_register"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trace_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5fc9328a634e9907586162"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Petición con el campo active incorrecto utilizando <code>GET https://api-example.loyal.ink/api/v2/users?active=5</code>.</p>
<h2 id='response-sample-6'>Response Sample 6</h2>
<blockquote>
<p>Respuesta obtenida:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Valor no permitido."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"internal_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">612</span><span class="p">,</span><span class="w">
        </span><span class="nl">"detailed_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unos de los emails presenta un formato incorrecto"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"wrong_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"emails"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"index_register"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trace_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5fc932e5634e9182441142"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Petición con algún email incorrecto utilizando <code>GET https://api-example.loyal.ink/api/v2/users?emails=email1@test.com,wrongemail2test.com,email3@test.com</code>.</p>
<h1 id='edit-users-status'>Edit Users Status</h1><h2 id='put-edit-users-status'>PUT Edit Users Status</h2>
<p>Este endpoint permite cambiar el estado de los usuarios, y su request http es <code>PUT http://api-example.loyal.ink/api/v2/users</code>.</p>
<h2 id='accepted-parameters-in-body'>Accepted Parameters In Body</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>active</td>
<td>true</td>
<td>Admite los valores 0 (&quot;active&quot;:0 =&gt; para desactivar usuarios) y 1 (&quot;active&quot;:1 =&gt; para activar usuarios)</td>
</tr>
<tr>
<td>emails</td>
<td>true</td>
<td>Lista de correos que se desea desactivar/activar (ej: &quot;emails&quot;:&quot;email1@test.com,email2@test.com,email3@test.com&quot;)</td>
</tr>
</tbody></table>
<h2 id='example-with-parameters'>Example With Parameters</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> PUT <span class="s1">'PUT https://api-example.loyal.ink/api/v2/users'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Public-Key: your-public-api-key'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Loyalink-Signature: your-loyalink-signature'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: text/plain'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "emails": "email1@test.com,email2@test.com,email3@test.com",
    "active": 0
}'</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s2">"uri"</span>
<span class="nb">require</span> <span class="s2">"net/http"</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"PUT https://api-example.loyal.ink/api/v2/users"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">);</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Put</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Public-Key"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-public-api-key"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Loyalink-Signature"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-loyalink-signature"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Content-Type"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"text/plain"</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\r\n</span><span class="s2">    </span><span class="se">\"</span><span class="s2">emails</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">email1@test.com,email2@test.com,email3@test.com</span><span class="se">\"</span><span class="s2">,</span><span class="se">\r\n</span><span class="s2">    </span><span class="se">\"</span><span class="s2">active</span><span class="se">\"</span><span class="s2">: 0</span><span class="se">\r\n</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"api-example.loyal.ink"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\r\n</span><span class="s">    </span><span class="se">\"</span><span class="s">emails</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">email1@test.com,email2@test.com,email3@test.com</span><span class="se">\"</span><span class="s">,</span><span class="se">\r\n</span><span class="s">    </span><span class="se">\"</span><span class="s">active</span><span class="se">\"</span><span class="s">: 0</span><span class="se">\r\n</span><span class="s">}"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Public-Key'</span><span class="p">:</span> <span class="s">'your-public-api-key'</span><span class="p">,</span>
  <span class="s">'Loyalink-Signature'</span><span class="p">:</span> <span class="s">'your-loyalink-signature'</span><span class="p">,</span>
  <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'text/plain'</span>
<span class="p">}</span>
<span class="n">conn</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"PUT"</span><span class="p">,</span> <span class="s">"/api/v2/users"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">myHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">();</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Public-Key</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-public-api-key</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Loyalink-Signature</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-loyalink-signature</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">text/plain</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">raw</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">{</span><span class="se">\r\n</span><span class="s2">    </span><span class="se">\"</span><span class="s2">emails</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">email1@test.com,email2@test.com,email3@test.com</span><span class="se">\"</span><span class="s2">,</span><span class="se">\r\n</span><span class="s2">    </span><span class="se">\"</span><span class="s2">active</span><span class="se">\"</span><span class="s2">: 0</span><span class="se">\r\n</span><span class="s2">}</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">requestOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">PUT</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="nx">myHeaders</span><span class="p">,</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">raw</span><span class="p">,</span>
  <span class="na">redirect</span><span class="p">:</span> <span class="dl">'</span><span class="s1">follow</span><span class="dl">'</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">PUT https://api-example.loyal.ink/api/v2/users</span><span class="dl">"</span><span class="p">,</span> <span class="nx">requestOptions</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">));</span>
</code></pre></div>
<p>Endpoint <code>PUT http://api-example.loyal.ink/api/v2/users</code> con los parámetros &quot;emails&quot; y &quot;active&quot; en el body.</p>
<h2 id='response-sample-1-4'>Response Sample 1</h2>
<blockquote>
<p>Respuesta obtenida:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Campo no encontrado."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"internal_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">601</span><span class="p">,</span><span class="w">
        </span><span class="nl">"detailed_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Falta un campo requerido."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"wrong_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"emails"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"index_register"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trace_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5ff784dd57d5a238106423"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Respuesta que se obtiene al no enviar el campo &quot;emails&quot; en el body.</p>
<h2 id='response-sample-2-4'>Response Sample 2</h2>
<blockquote>
<p>Respuesta obtenida:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Campo no encontrado."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"internal_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">601</span><span class="p">,</span><span class="w">
        </span><span class="nl">"detailed_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Falta un campo requerido."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"wrong_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"index_register"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trace_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5ff7858757d5a986338318"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Respuesta que se obtiene al no enviar el campo &quot;active&quot; en el body.</p>
<h2 id='response-sample-3-3'>Response Sample 3</h2>
<blockquote>
<p>Respuesta obtenida:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Error al actualizar."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"internal_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">627</span><span class="p">,</span><span class="w">
        </span><span class="nl">"detailed_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ninguno de los emails esta asociado a algun usuario."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trace_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5ff785e957d5a354633538"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Respuesta que se obtiene cuando ninguno de los correos existe en la lista de usuarios.</p>
<h2 id='response-sample-4-2'>Response Sample 4</h2>
<blockquote>
<p>Respuesta obtenida:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"El registro ha sido actualizado exitosamente."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Respuesta exitosa.</p>
<h1 id='get-results-number-of-pages'>Get Results Number of Pages</h1><h2 id='get-results-number-of-pages-2'>Get Results Number of Pages</h2>
<p>Este endpoint permite obtener la cantidad de páginas en lotes de a 100 registros que hay en un determinado rango de fechas cuando se desea consultar resultados, y su request http es <code>GET https://api-example.loyal.ink/api/v2/surveys/results/number-of-pages?from=&lt;from&gt;&amp;to=&lt;to&gt;&amp;date_type=&lt;date_type&gt;</code>.</p>
<h2 id='accepted-parameters'>Accepted Parameters</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>from</td>
<td>true</td>
<td>Fecha en formato YYYY-MM-DD (la diferencia entre from y to no puede superar 1 día). Esta fecha será completada con &quot; 00:00:00&quot;.</td>
</tr>
<tr>
<td>to</td>
<td>true</td>
<td>Fecha en formato YYYY-MM-DD (la diferencia entre from y to no puede superar 1 día). Esta fecha será completada con &quot; 59:59:59&quot;.</td>
</tr>
<tr>
<td>date_type</td>
<td>true</td>
<td>Admite los valores created (fecha de creación/inserción del registro en la bd), date_poll (fecha de encuesta) o date_exp (fecha de experiencia/interacción).</td>
</tr>
<tr>
<td>id_level_2</td>
<td>false</td>
<td>Admite ids de estructuras con nivel 2 (ver servicio &quot;Essential Get / Get Structures Tree with filters&quot; para más detalles).</td>
</tr>
<tr>
<td>id_level_3</td>
<td>false</td>
<td>Admite ids de estructuras con nivel 3 (ver servicio &quot;Essential Get / Get Structures Tree with filters&quot; para más detalles).</td>
</tr>
<tr>
<td>id_level_4</td>
<td>false</td>
<td>Admite ids de estructuras con nivel 4 (ver servicio &quot;Essential Get / Get Structures Tree with filters&quot; para más detalles).</td>
</tr>
<tr>
<td>id_level_5</td>
<td>false</td>
<td>Admite ids de estructuras con nivel 5 (ver servicio &quot;Essential Get / Get Structures Tree with filters&quot; para más detalles).</td>
</tr>
<tr>
<td>id_level_6</td>
<td>false</td>
<td>Admite ids de estructuras con nivel 6 (ver servicio &quot;Essential Get / Get Structures Tree with filters&quot; para más detalles).</td>
</tr>
<tr>
<td>id_level_7</td>
<td>false</td>
<td>Admite ids de estructuras con nivel 7 (ver servicio &quot;Essential Get / Get Structures Tree with filters&quot; para más detalles).</td>
</tr>
</tbody></table>
<h2 id='request-restrictions-3'>Request Restrictions</h2>
<ol>
<li>La diferencia entre from y to no puede superar 1 día.</li>
</ol>
<h2 id='example-with-parameters-2'>Example With Parameters</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> GET <span class="s1">'https://api-example.loyal.ink/api/v2/surveys/results/number-of-pages?from=2021-05-01&amp;to=2021-05-01&amp;date_type=created'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Public-Key: your-public-api-key'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Loyalink-Signature: your-loyalink-signature'</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s2">"uri"</span>
<span class="nb">require</span> <span class="s2">"net/http"</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api-example.loyal.ink/api/v2/surveys/results/number-of-pages?from=2021-05-01&amp;to=2021-05-01&amp;date_type=created"</span><span class="p">)</span>

<span class="n">https</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">https</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Public-Key"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-public-api-key"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Loyalink-Signature"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-loyalink-signature"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">https</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"api-example.loyal.ink"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Public-Key'</span><span class="p">:</span> <span class="s">'your-public-api-key'</span><span class="p">,</span>
  <span class="s">'Loyalink-Signature'</span><span class="p">:</span> <span class="s">'your-loyalink-signature'</span>
<span class="p">}</span>
<span class="n">conn</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/v2/surveys/results/number-of-pages?from=2021-05-01&amp;to=2021-05-01&amp;date_type=created"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">myHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">();</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Public-Key</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-public-api-key</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Loyalink-Signature</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-loyalink-signature</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">requestOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="nx">myHeaders</span><span class="p">,</span>
  <span class="na">redirect</span><span class="p">:</span> <span class="dl">'</span><span class="s1">follow</span><span class="dl">'</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://api-example.loyal.ink/api/v2/surveys/results/number-of-pages?from=2021-05-01&amp;to=2021-05-01&amp;date_type=created</span><span class="dl">"</span><span class="p">,</span> <span class="nx">requestOptions</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">));</span>
</code></pre></div>
<p><code>GET https://api-example.loyal.ink/api/v2/surveys/results/number-of-pages?from=2021-05-01&amp;to=2021-05-01&amp;date_type=created</code> permite obtener los resultados creados en la bd entre las fechas &quot;2021-05-01 00:00:00&quot; y &quot;2021-05-01 23:59:59&quot;.</p>
<h2 id='response-sample-1-5'>Response Sample 1</h2>
<blockquote>
<p>Respuesta obtenida:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"number_of_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">499</span><span class="p">,</span><span class="w">
        </span><span class="nl">"number_of_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Respuesta exitosa.</p>
<h1 id='get-results-paginated'>Get Results Paginated</h1><h2 id='get-results-paginated-2'>Get Results Paginated</h2>
<p>Este endpoint permite obtener resultados de una página específica en un rango de fechas, y su request http es <code>GET https://api-example.loyal.ink/api/v2/surveys/results/paginated?from=&lt;from&gt;&amp;to=&lt;to&gt;&amp;date_type=&lt;date_type&gt;&amp;page=&lt;page&gt;</code>.</p>
<h2 id='accepted-parameters-2'>Accepted Parameters</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>from</td>
<td>true</td>
<td>Fecha en formato YYYY-MM-DD (la diferencia entre from y to no puede superar 1 día). Esta fecha será completada con &quot; 00:00:00&quot;.</td>
</tr>
<tr>
<td>to</td>
<td>true</td>
<td>Fecha en formato YYYY-MM-DD (la diferencia entre from y to no puede superar 1 día). Esta fecha será completada con &quot; 59:59:59&quot;.</td>
</tr>
<tr>
<td>date_type</td>
<td>true</td>
<td>Admite los valores created (fecha de creación/inserción del registro en la bd), date_poll (fecha de encuesta) o date_exp (fecha de experiencia/interacción).</td>
</tr>
<tr>
<td>page</td>
<td>true</td>
<td>Número de página que se desea obtener (la respuesta contendrá entre 1 y 100 registros, y la página a utilizar estará determinada por el servicio &quot;Get Results Number of Pages&quot;).</td>
</tr>
<tr>
<td>id_level_2</td>
<td>false</td>
<td>Admite ids de estructuras con nivel 2 (ver servicio &quot;Essential Get / Get Structures Tree with filters&quot; para más detalles).</td>
</tr>
<tr>
<td>id_level_3</td>
<td>false</td>
<td>Admite ids de estructuras con nivel 3 (ver servicio &quot;Essential Get / Get Structures Tree with filters&quot; para más detalles).</td>
</tr>
<tr>
<td>id_level_4</td>
<td>false</td>
<td>Admite ids de estructuras con nivel 4 (ver servicio &quot;Essential Get / Get Structures Tree with filters&quot; para más detalles).</td>
</tr>
<tr>
<td>id_level_5</td>
<td>false</td>
<td>Admite ids de estructuras con nivel 5 (ver servicio &quot;Essential Get / Get Structures Tree with filters&quot; para más detalles).</td>
</tr>
<tr>
<td>id_level_6</td>
<td>false</td>
<td>Admite ids de estructuras con nivel 6 (ver servicio &quot;Essential Get / Get Structures Tree with filters&quot; para más detalles).</td>
</tr>
<tr>
<td>id_level_7</td>
<td>false</td>
<td>Admite ids de estructuras con nivel 7 (ver servicio &quot;Essential Get / Get Structures Tree with filters&quot; para más detalles).</td>
</tr>
</tbody></table>
<h2 id='request-restrictions-4'>Request Restrictions</h2>
<ol>
<li>La diferencia entre from y to no puede superar 1 día.</li>
</ol>
<h2 id='example-with-required-parameters'>Example With Required Parameters</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> GET <span class="s1">'https://api-example.loyal.ink/api/v2/surveys/results/paginated?from=2021-05-01&amp;to=2021-05-01&amp;date_type=created&amp;page=5'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Public-Key: your-public-api-key'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Loyalink-Signature: your-loyalink-signature'</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s2">"uri"</span>
<span class="nb">require</span> <span class="s2">"net/http"</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api-example.loyal.ink/api/v2/surveys/results/paginated?from=2021-05-01&amp;to=2021-05-01&amp;date_type=created&amp;page=5"</span><span class="p">)</span>

<span class="n">https</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">https</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Public-Key"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-public-api-key"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Loyalink-Signature"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-loyalink-signature"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">https</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"api-example.loyal.ink"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Public-Key'</span><span class="p">:</span> <span class="s">'your-public-api-key'</span><span class="p">,</span>
  <span class="s">'Loyalink-Signature'</span><span class="p">:</span> <span class="s">'your-loyalink-signature'</span>
<span class="p">}</span>
<span class="n">conn</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/v2/surveys/results/paginated?from=2021-05-01&amp;to=2021-05-01&amp;date_type=created&amp;page=5"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">myHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">();</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Public-Key</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-public-api-key</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Loyalink-Signature</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-loyalink-signature</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">requestOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="nx">myHeaders</span><span class="p">,</span>
  <span class="na">redirect</span><span class="p">:</span> <span class="dl">'</span><span class="s1">follow</span><span class="dl">'</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://api-example.loyal.ink/api/v2/surveys/results/paginated?from=2021-05-01&amp;to=2021-05-01&amp;date_type=created&amp;page=5</span><span class="dl">"</span><span class="p">,</span> <span class="nx">requestOptions</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">));</span>
</code></pre></div>
<p><code>GET https://api-example.loyal.ink/api/v2/surveys/results/paginated?from=2021-05-01&amp;to=2021-05-01&amp;date_type=created&amp;page=5</code> permite obtener la quinta página de resultados creados en la bd entre las fechas &quot;2021-05-01 00:00:00&quot; y &quot;2021-05-01 23:59:59&quot; (el quinto lote que contendrá entre 1 y 100 registros).</p>
<h2 id='response-sample-1-6'>Response Sample 1</h2>
<blockquote>
<p>Respuesta obtenida:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">86922201</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id_cliente"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id_cliente_1,
            "</span><span class="err">pto_contacto</span><span class="s2">": "</span><span class="err">texto_nivel_</span><span class="mi">5</span><span class="s2">",
            "</span><span class="err">nota</span><span class="s2">": 10,
            "</span><span class="err">verbatim</span><span class="s2">": "</span><span class="err">texto_verbatim_</span><span class="mi">1</span><span class="s2">",
            "</span><span class="err">fecha_encuesta</span><span class="s2">": "</span><span class="mi">2019-11-01</span><span class="err">T</span><span class="mi">01</span><span class="err">:</span><span class="mi">40</span><span class="err">:</span><span class="mi">41</span><span class="err">Z</span><span class="s2">",
            "</span><span class="err">fecha_experiencia</span><span class="s2">": "</span><span class="mi">2019-10-28</span><span class="err">T</span><span class="mi">00</span><span class="err">:</span><span class="mi">00</span><span class="err">:</span><span class="mi">00</span><span class="err">Z</span><span class="s2">",
            "</span><span class="err">fecha_codificación</span><span class="s2">": "</span><span class="mi">2019-11-03</span><span class="err">T</span><span class="mi">16</span><span class="err">:</span><span class="mi">17</span><span class="err">:</span><span class="mi">29</span><span class="err">Z</span><span class="s2">",
            "</span><span class="err">nivel_</span><span class="mi">2</span><span class="s2">": "</span><span class="err">texto_nivel_</span><span class="mi">2</span><span class="s2">",
            "</span><span class="err">nivel_</span><span class="mi">3</span><span class="s2">": "</span><span class="err">texto_nivel_</span><span class="mi">3</span><span class="s2">",
            "</span><span class="err">nivel_</span><span class="mi">4</span><span class="s2">": "</span><span class="err">texto_nivel_</span><span class="mi">4</span><span class="s2">",
            "</span><span class="err">nivel_</span><span class="mi">5</span><span class="s2">": "</span><span class="err">texto_nivel_</span><span class="mi">5</span><span class="s2">",
            "</span><span class="err">nivel_</span><span class="mi">6</span><span class="s2">": null,
            "</span><span class="err">nombre</span><span class="s2">": "</span><span class="err">nombre_</span><span class="mi">1</span><span class="s2">",
            "</span><span class="err">apellidos</span><span class="s2">": "</span><span class="err">apellidos_</span><span class="mi">1</span><span class="s2">",
            "</span><span class="err">celular</span><span class="s2">": null,
            "</span><span class="err">correo</span><span class="s2">": "</span><span class="err">correo</span><span class="mi">1</span><span class="err">@example.com</span><span class="s2">",
            "</span><span class="err">género</span><span class="s2">": "</span><span class="err">Femenino</span><span class="s2">",
            "</span><span class="err">micro_</span><span class="mi">1</span><span class="s2">": "</span><span class="err">microdriver_</span><span class="mi">1</span><span class="s2">",
            "</span><span class="err">micro_</span><span class="mi">2</span><span class="s2">": null,
            "</span><span class="err">micro_</span><span class="mi">3</span><span class="s2">": null,
            "</span><span class="err">inter_</span><span class="mi">1</span><span class="s2">": "</span><span class="err">interdriver_</span><span class="mi">1</span><span class="s2">",
            "</span><span class="err">inter_</span><span class="mi">2</span><span class="s2">": null,
            "</span><span class="err">inter_</span><span class="mi">3</span><span class="s2">": null,
            "</span><span class="err">macro_</span><span class="mi">1</span><span class="s2">": "</span><span class="err">macrodriver_</span><span class="mi">1</span><span class="s2">",
            "</span><span class="err">macro_</span><span class="mi">2</span><span class="s2">": null,
            "</span><span class="err">macro_</span><span class="mi">3</span><span class="s2">": null
        },
        {
            "</span><span class="err">id</span><span class="s2">": 86922202,
            "</span><span class="err">id_cliente</span><span class="s2">": "</span><span class="err">id_cliente_</span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pto_contacto"</span><span class="p">:</span><span class="w"> </span><span class="s2">"texto_nivel_4"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nota"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
            </span><span class="nl">"verbatim"</span><span class="p">:</span><span class="w"> </span><span class="s2">"texto_verbatim_2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fecha_encuesta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-11-01T01:40:41Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fecha_experiencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-10-28T00:00:00Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fecha_codificación"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-11-03T16:17:29Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nivel_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"texto_nivel_2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nivel_3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"texto_nivel_3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nivel_4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"texto_nivel_4"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nivel_5"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nivel_6"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nombre"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nombre_2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"apellidos"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"celular"</span><span class="p">:</span><span class="w"> </span><span class="s2">"celular_2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"correo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"correo2@example.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"género"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Masculino"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"micro_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"microdriver_1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"micro_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"microdriver_2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"micro_3"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"inter_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"interdriver_1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"inter_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"interdriver_2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"inter_3"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"macro_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"macrodriver_1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"macro_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"macrodriver_2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"macro_3"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Respuesta exitosa considerando que la quinta página de ese día solo contenía 2 resultados.</p>
<h2 id='example-with-structures-parameters'>Example With Structures Parameters</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> GET <span class="s1">'https://api-example.loyal.ink/api/v2/surveys/results/paginated?from=2021-05-01&amp;to=2021-05-01&amp;date_type=created&amp;page=1&amp;id_level_3=3,529'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Public-Key: your-public-api-key'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Loyalink-Signature: your-loyalink-signature'</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s2">"uri"</span>
<span class="nb">require</span> <span class="s2">"net/http"</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api-example.loyal.ink/api/v2/surveys/results/paginated?from=2021-05-01&amp;to=2021-05-01&amp;date_type=created&amp;page=1&amp;id_level_3=3,529"</span><span class="p">)</span>

<span class="n">https</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">https</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Public-Key"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-public-api-key"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Loyalink-Signature"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-loyalink-signature"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">https</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"api-example.loyal.ink"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Public-Key'</span><span class="p">:</span> <span class="s">'your-public-api-key'</span><span class="p">,</span>
  <span class="s">'Loyalink-Signature'</span><span class="p">:</span> <span class="s">'your-loyalink-signature'</span>
<span class="p">}</span>
<span class="n">conn</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/v2/surveys/results/paginated?from=2021-05-01&amp;to=2021-05-01&amp;date_type=created&amp;page=1&amp;id_level_3=3,529"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">myHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">();</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Public-Key</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-public-api-key</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Loyalink-Signature</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-loyalink-signature</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">requestOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="nx">myHeaders</span><span class="p">,</span>
  <span class="na">redirect</span><span class="p">:</span> <span class="dl">'</span><span class="s1">follow</span><span class="dl">'</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://api-example.loyal.ink/api/v2/surveys/results/paginated?from=2021-05-01&amp;to=2021-05-01&amp;date_type=created&amp;page=1&amp;id_level_3=3,529</span><span class="dl">"</span><span class="p">,</span> <span class="nx">requestOptions</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">));</span>
</code></pre></div>
<p><code>GET https://api-example.loyal.ink/api/v2/surveys/results/paginated?from=2021-05-01&amp;to=2021-05-01&amp;date_type=created&amp;page=1&amp;id_level_3=3,529</code> permite obtener la primera página de resultados creados en la bd entre las fechas &quot;2021-05-01 00:00:00&quot; y &quot;2021-05-01 23:59:59&quot; para las estructures cuyo nivel 3 coincida con los ids 3 o 529.</p>
<h2 id='response-sample-2-5'>Response Sample 2</h2>
<blockquote>
<p>Respuesta obtenida:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">86922201</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id_cliente"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id_cliente_1,
            "</span><span class="err">pto_contacto</span><span class="s2">": "</span><span class="err">texto_nivel_</span><span class="mi">5</span><span class="s2">",
            "</span><span class="err">nota</span><span class="s2">": 10,
            "</span><span class="err">verbatim</span><span class="s2">": "</span><span class="err">texto_verbatim_</span><span class="mi">1</span><span class="s2">",
            "</span><span class="err">fecha_encuesta</span><span class="s2">": "</span><span class="mi">2019-11-01</span><span class="err">T</span><span class="mi">01</span><span class="err">:</span><span class="mi">40</span><span class="err">:</span><span class="mi">41</span><span class="err">Z</span><span class="s2">",
            "</span><span class="err">fecha_experiencia</span><span class="s2">": "</span><span class="mi">2019-10-28</span><span class="err">T</span><span class="mi">00</span><span class="err">:</span><span class="mi">00</span><span class="err">:</span><span class="mi">00</span><span class="err">Z</span><span class="s2">",
            "</span><span class="err">fecha_codificación</span><span class="s2">": "</span><span class="mi">2019-11-03</span><span class="err">T</span><span class="mi">16</span><span class="err">:</span><span class="mi">17</span><span class="err">:</span><span class="mi">29</span><span class="err">Z</span><span class="s2">",
            "</span><span class="err">nivel_</span><span class="mi">2</span><span class="s2">": "</span><span class="err">texto_nivel_</span><span class="mi">2</span><span class="s2">",
            "</span><span class="err">nivel_</span><span class="mi">3</span><span class="s2">": "</span><span class="err">texto_nivel_</span><span class="mi">3</span><span class="s2">",
            "</span><span class="err">nivel_</span><span class="mi">4</span><span class="s2">": "</span><span class="err">texto_nivel_</span><span class="mi">4</span><span class="s2">",
            "</span><span class="err">nivel_</span><span class="mi">5</span><span class="s2">": "</span><span class="err">texto_nivel_</span><span class="mi">5</span><span class="s2">",
            "</span><span class="err">nivel_</span><span class="mi">6</span><span class="s2">": null,
            "</span><span class="err">nombre</span><span class="s2">": "</span><span class="err">nombre_</span><span class="mi">1</span><span class="s2">",
            "</span><span class="err">apellidos</span><span class="s2">": "</span><span class="err">apellidos_</span><span class="mi">1</span><span class="s2">",
            "</span><span class="err">celular</span><span class="s2">": null,
            "</span><span class="err">correo</span><span class="s2">": "</span><span class="err">correo</span><span class="mi">1</span><span class="err">@example.com</span><span class="s2">",
            "</span><span class="err">género</span><span class="s2">": "</span><span class="err">Femenino</span><span class="s2">",
            "</span><span class="err">micro_</span><span class="mi">1</span><span class="s2">": "</span><span class="err">microdriver_</span><span class="mi">1</span><span class="s2">",
            "</span><span class="err">micro_</span><span class="mi">2</span><span class="s2">": null,
            "</span><span class="err">micro_</span><span class="mi">3</span><span class="s2">": null,
            "</span><span class="err">inter_</span><span class="mi">1</span><span class="s2">": "</span><span class="err">interdriver_</span><span class="mi">1</span><span class="s2">",
            "</span><span class="err">inter_</span><span class="mi">2</span><span class="s2">": null,
            "</span><span class="err">inter_</span><span class="mi">3</span><span class="s2">": null,
            "</span><span class="err">macro_</span><span class="mi">1</span><span class="s2">": "</span><span class="err">macrodriver_</span><span class="mi">1</span><span class="s2">",
            "</span><span class="err">macro_</span><span class="mi">2</span><span class="s2">": null,
            "</span><span class="err">macro_</span><span class="mi">3</span><span class="s2">": null
        }
    ]
}
</span></code></pre></div>
<p>Respuesta exitosa considerando que la primera página de ese día con esos filtros de estructura solo contenía 1 resultados.</p>
<h1 id='get-uncompleted-results'>Get Uncompleted Results</h1><h2 id='get-uncompleted-results-2'>Get Uncompleted Results</h2>
<p>Este endpoint permite obtener resultados que no tienen segments ni others indicando al menos un tipo y rango de fechas, y su request http es <code>GET https://api-staging.loyal.ink/api/v2/surveys/results/incomplete?from=&lt;from&gt;&amp;to=&lt;to&gt;&amp;date_type=&lt;date_type&gt;</code>.</p>
<h2 id='accepted-parameters-3'>Accepted Parameters</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>from</td>
<td>true</td>
<td>Fecha en formato YYYY-MM-DD (la diferencia entre from y to no puede superar 1 día). Esta fecha será completada con &quot; 00:00:00&quot;.</td>
</tr>
<tr>
<td>to</td>
<td>true</td>
<td>Fecha en formato YYYY-MM-DD (la diferencia entre from y to no puede superar 1 día). Esta fecha será completada con &quot; 59:59:59&quot;.</td>
</tr>
<tr>
<td>date_type</td>
<td>true</td>
<td>Admite los valores created (fecha de creación/inserción del registro en la bd), date_poll (fecha de encuesta) o date_exp (fecha de experiencia/interacción).</td>
</tr>
</tbody></table>
<h2 id='request-restrictions-5'>Request Restrictions</h2>
<ol>
<li>La diferencia entre from y to no puede superar 1 día.</li>
</ol>
<h2 id='example-with-parameters-3'>Example With Parameters</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> GET <span class="s1">'https://api-example.loyal.ink/api/v2/surveys/results/incomplete?from=2021-05-01&amp;to=2021-05-02&amp;date_type=created'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Public-Key: your-public-api-key'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Loyalink-Signature: your-loyalink-signature'</span>
<span class="nt">--data-raw</span> <span class="s1">''</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s2">"uri"</span>
<span class="nb">require</span> <span class="s2">"net/http"</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api-example.loyal.ink/api/v2/surveys/results/incomplete?from=2021-05-01&amp;to=2021-05-02&amp;date_type=created"</span><span class="p">)</span>

<span class="n">https</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">https</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Public-Key"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-public-api-key"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Loyalink-Signature"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-loyalink-signature"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">https</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"api-example.loyal.ink"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Public-Key'</span><span class="p">:</span> <span class="s">'your-public-api-key'</span><span class="p">,</span>
  <span class="s">'Loyalink-Signature'</span><span class="p">:</span> <span class="s">'your-loyalink-signature'</span>
<span class="p">}</span>
<span class="n">conn</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/v2/surveys/results/incomplete?from=2021-05-01&amp;to=2021-05-02&amp;date_type=created"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">myHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">();</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Public-Key</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-public-api-key</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Loyalink-Signature</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-loyalink-signature</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">raw</span> <span class="o">=</span> <span class="dl">""</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">requestOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="nx">myHeaders</span><span class="p">,</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">raw</span><span class="p">,</span>
  <span class="na">redirect</span><span class="p">:</span> <span class="dl">'</span><span class="s1">follow</span><span class="dl">'</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://api-example.loyal.ink/api/v2/surveys/results/incomplete?from=2021-05-01&amp;to=2021-05-02&amp;date_type=created</span><span class="dl">"</span><span class="p">,</span> <span class="nx">requestOptions</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">));</span>
</code></pre></div>
<p><code>GET https://api-example.loyal.ink/api/v2/surveys/results/incomplete?from=2021-05-01&amp;to=2021-05-02&amp;date_type=created</code> permite obtener los resultados creados en la bd entre las fechas &quot;2021-05-01 00:00:00&quot; y &quot;2021-05-02 23:59:59&quot;.</p>
<h2 id='response-sample-1-7'>Response Sample 1</h2>
<blockquote>
<p>Respuesta obtenida:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">264359</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id_cliente"</span><span class="p">:</span><span class="w"> </span><span class="s2">"client_id_264359"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pto_contacto"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name_level_4"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nota"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"verbatim"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verbatim_1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fecha_encuesta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-01 00:05:38"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fecha_experiencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-01 00:05:35"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fecha_codificación"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-01 18:07:53"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nivel_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name_level_2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nivel_3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name_level_3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nivel_4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name_level_4"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nivel_5"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nivel_6"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">264364</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id_cliente"</span><span class="p">:</span><span class="w"> </span><span class="s2">"client_id_264364"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pto_contacto"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name_level_3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nota"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"verbatim"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verbatim_2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fecha_encuesta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-01 01:13:19"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fecha_experiencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-01 01:13:16"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fecha_codificación"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-01 18:07:57"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nivel_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name_level_2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nivel_3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name_level_3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nivel_4"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nivel_5"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nivel_6"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Respuesta exitosa.</p>
<h1 id='add-segments-others-to-uncompleted-results'>Add Segments/Others To Uncompleted Results</h1><h2 id='post-segments-others-to-uncompleted-results'>POST Segments/Others To Uncompleted Results</h2>
<p>Este endpoint permite añadir Segments y/o Others (una sola vez) a los resultados incompletos, y su request http es <code>POST https://api-example.loyal.ink/api/v2/surveys/results/incomplete</code>.</p>
<h2 id='accepted-parameters-in-body-2'>Accepted Parameters In Body</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>result_id</td>
<td>true</td>
<td>Este parámetro va dentro del body (en formato JSON), y debe contener un string con un id existente de la tabla results.</td>
</tr>
<tr>
<td>seg_xxx</td>
<td>false</td>
<td>Este parámetro va dentro del body (en formato JSON), y debe contener un string con un código para el nombre del campo y su posible valor (ambos existentes en segments).</td>
</tr>
<tr>
<td>otros_xxx</td>
<td>false</td>
<td>Este parámetro va dentro del body (en formato JSON), y debe contener un string con un código para el nombre del campo (existente en others).</td>
</tr>
</tbody></table>
<h2 id='example-with-parameters-4'>Example With Parameters</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://api-example.loyal.ink/api/v2/surveys/results/incomplete'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Public-Key: your-public-api-key'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Loyalink-Signature: your-loyalink-signature'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: text/plain'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'[
    {
        "result_id": "12341",
        "seg_genero": "code_gen_1",
        "otros_nombre": "texto_nombre_1"
    },
    {
        "result_id": "12342",
        "seg_genero": "code_gen_2",
        "otros_nombre": "texto_nombre_2"
    }
]'</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s2">"uri"</span>
<span class="nb">require</span> <span class="s2">"net/http"</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api-example.loyal.ink/api/v2/surveys/results/incomplete"</span><span class="p">)</span>

<span class="n">https</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">https</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Public-Key"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-public-api-key"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Loyalink-Signature"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-loyalink-signature"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Content-Type"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"text/plain"</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"[</span><span class="se">\r\n</span><span class="s2">    {</span><span class="se">\r\n</span><span class="s2">        </span><span class="se">\"</span><span class="s2">result_id</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">12341</span><span class="se">\"</span><span class="s2">,</span><span class="se">\r\n</span><span class="s2">        </span><span class="se">\"</span><span class="s2">seg_genero</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">code_gen_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\r\n</span><span class="s2">        </span><span class="se">\"</span><span class="s2">otros_nombre</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">texto_nombre_1</span><span class="se">\"\r\n</span><span class="s2">    },</span><span class="se">\r\n</span><span class="s2">    {</span><span class="se">\r\n</span><span class="s2">        </span><span class="se">\"</span><span class="s2">result_id</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">12342</span><span class="se">\"</span><span class="s2">,</span><span class="se">\r\n</span><span class="s2">        </span><span class="se">\"</span><span class="s2">seg_genero</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">code_gen_2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\r\n</span><span class="s2">        </span><span class="se">\"</span><span class="s2">otros_nombre</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">texto_nombre_2</span><span class="se">\"\r\n</span><span class="s2">    }</span><span class="se">\r\n</span><span class="s2">]"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">https</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"api-example.loyal.ink"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="s">"[</span><span class="se">\r\n</span><span class="s">    {</span><span class="se">\r\n</span><span class="s">        </span><span class="se">\"</span><span class="s">result_id</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">12341</span><span class="se">\"</span><span class="s">,</span><span class="se">\r\n</span><span class="s">        </span><span class="se">\"</span><span class="s">seg_genero</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">code_gen_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\r\n</span><span class="s">        </span><span class="se">\"</span><span class="s">otros_nombre</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">texto_nombre_1</span><span class="se">\"\r\n</span><span class="s">    },</span><span class="se">\r\n</span><span class="s">    {</span><span class="se">\r\n</span><span class="s">        </span><span class="se">\"</span><span class="s">result_id</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">12342</span><span class="se">\"</span><span class="s">,</span><span class="se">\r\n</span><span class="s">        </span><span class="se">\"</span><span class="s">seg_genero</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">code_gen_2</span><span class="se">\"</span><span class="s">,</span><span class="se">\r\n</span><span class="s">        </span><span class="se">\"</span><span class="s">otros_nombre</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">texto_nombre_2</span><span class="se">\"\r\n</span><span class="s">    }</span><span class="se">\r\n</span><span class="s">]"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Public-Key'</span><span class="p">:</span> <span class="s">'your-public-api-key'</span><span class="p">,</span>
  <span class="s">'Loyalink-Signature'</span><span class="p">:</span> <span class="s">'your-loyalink-signature'</span><span class="p">,</span>
  <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'text/plain'</span>
<span class="p">}</span>
<span class="n">conn</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/v2/surveys/results/incomplete"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">myHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">();</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Public-Key</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-public-api-key</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Loyalink-Signature</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-loyalink-signature</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">text/plain</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">raw</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">[</span><span class="se">\r\n</span><span class="s2">    {</span><span class="se">\r\n</span><span class="s2">        </span><span class="se">\"</span><span class="s2">result_id</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">12341</span><span class="se">\"</span><span class="s2">,</span><span class="se">\r\n</span><span class="s2">        </span><span class="se">\"</span><span class="s2">seg_genero</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">code_gen_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\r\n</span><span class="s2">        </span><span class="se">\"</span><span class="s2">otros_nombre</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">texto_nombre_1</span><span class="se">\"\r\n</span><span class="s2">    },</span><span class="se">\r\n</span><span class="s2">    {</span><span class="se">\r\n</span><span class="s2">        </span><span class="se">\"</span><span class="s2">result_id</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">12342</span><span class="se">\"</span><span class="s2">,</span><span class="se">\r\n</span><span class="s2">        </span><span class="se">\"</span><span class="s2">seg_genero</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">code_gen_2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\r\n</span><span class="s2">        </span><span class="se">\"</span><span class="s2">otros_nombre</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">texto_nombre_2</span><span class="se">\"\r\n</span><span class="s2">    }</span><span class="se">\r\n</span><span class="s2">]</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">requestOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="nx">myHeaders</span><span class="p">,</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">raw</span><span class="p">,</span>
  <span class="na">redirect</span><span class="p">:</span> <span class="dl">'</span><span class="s1">follow</span><span class="dl">'</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://api-example.loyal.ink/api/v2/surveys/results/incomplete</span><span class="dl">"</span><span class="p">,</span> <span class="nx">requestOptions</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">));</span>
</code></pre></div>
<p><code>POST https://api-example.loyal.ink/api/v2/surveys/results/incomplete</code> permite añadir segments y others a los result_id declarados en cada objeto json respectivamente.</p>
<h2 id='response-sample-1-8'>Response Sample 1</h2>
<blockquote>
<p>Respuesta obtenida:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ya existen registros asociados."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"internal_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">628</span><span class="p">,</span><span class="w">
        </span><span class="nl">"detailed_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"El registro de result ya tiene registros others asociados."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"wrong_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"result_id"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"wrong_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"189"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trace_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6006f30a357c9182392157"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Respuesta que se obtiene al intentar agregar un otros_xxx y/o seg_xxx a un result_id que no figura como incompleto en la bd.</p>
<h2 id='response-sample-2-6'>Response Sample 2</h2>
<blockquote>
<p>Respuesta obtenida:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Valor no permitido."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"internal_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">622</span><span class="p">,</span><span class="w">
        </span><span class="nl">"detailed_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"El campo result_id solamente acepta valores numericos."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"wrong_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"result_id"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"index_register"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trace_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6006f4d9357c9117919348"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Respuesta que se obtiene al enviar un result_id no numérico.</p>
<h2 id='response-sample-3-4'>Response Sample 3</h2>
<blockquote>
<p>Respuesta obtenida:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">404</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Campo no encontrado."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"internal_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">624</span><span class="p">,</span><span class="w">
        </span><span class="nl">"detailed_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"El valor de result_id no fue encontrado en results."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"field_not_found"</span><span class="p">:</span><span class="w"> </span><span class="s2">"result_id"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"value_not_found"</span><span class="p">:</span><span class="w"> </span><span class="mi">8989899</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trace_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6006f532357c9403328774"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Respuesta que se obtiene al enviar un result_id no existente en la bd.</p>
<h2 id='response-sample-4-3'>Response Sample 4</h2>
<blockquote>
<p>Respuesta obtenida:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Los registros han sido insertados exitosamente."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Respuesta exitosa.</p>
<h1 id='disable-results'>Disable Results</h1><h2 id='disable-results-2'>Disable Results</h2>
<p>Este endpoint permite deshabilitar resultados indicando su id único, y su request http es <code>PUT https://api-example.loyal.ink/api/v2/surveys/results/&lt;result_id&gt;</code>.</p>
<h2 id='accepted-parameters-4'>Accepted Parameters</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>result_id</td>
<td>true</td>
<td>Entero mayor a 0 que exista en la lista de resultados.</td>
</tr>
</tbody></table>
<h2 id='example-with-parameters-5'>Example With Parameters</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> PUT <span class="s1">'https://api-example.loyal.ink/api/v2/surveys/results/1234'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Public-Key: your-public-api-key'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Loyalink-Signature: your-loyalink-signature'</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s2">"uri"</span>
<span class="nb">require</span> <span class="s2">"net/http"</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api-example.loyal.ink/api/v2/surveys/results/1234"</span><span class="p">)</span>

<span class="n">https</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">https</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Put</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Public-Key"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-public-api-key"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Loyalink-Signature"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-loyalink-signature"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">https</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"api-example.loyal.ink"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Public-Key'</span><span class="p">:</span> <span class="s">'your-public-api-key'</span><span class="p">,</span>
  <span class="s">'Loyalink-Signature'</span><span class="p">:</span> <span class="s">'your-loyalink-signature'</span>
<span class="p">}</span>
<span class="n">conn</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"PUT"</span><span class="p">,</span> <span class="s">"/api/v2/surveys/results/1234"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">myHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">();</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Public-Key</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-public-api-key</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Loyalink-Signature</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-loyalink-signature</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">requestOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">PUT</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="nx">myHeaders</span><span class="p">,</span>
  <span class="na">redirect</span><span class="p">:</span> <span class="dl">'</span><span class="s1">follow</span><span class="dl">'</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://api-example.loyal.ink/api/v2/surveys/results/1234</span><span class="dl">"</span><span class="p">,</span> <span class="nx">requestOptions</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">));</span>
</code></pre></div>
<p><code>PUT https://api-example.loyal.ink/api/v2/surveys/results/1234</code> permite deshabilitar el resultado 1234.</p>
<h2 id='response-sample-1-9'>Response Sample 1</h2>
<blockquote>
<p>Respuesta obtenida:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Valor no permitido."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"internal_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">623</span><span class="p">,</span><span class="w">
        </span><span class="nl">"detailed_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"El campo result_id solamente acepta valores numericos mayores a 0."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"wrong_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"result_id"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"index_register"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trace_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5fecf4ca3699a570064010"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Respuesta que se obtiene al enviar un result_id menor o igual a 0.</p>
<h2 id='response-sample-2-7'>Response Sample 2</h2>
<blockquote>
<p>Respuesta obtenida:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">404</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Campo no encontrado."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"internal_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">624</span><span class="p">,</span><span class="w">
        </span><span class="nl">"detailed_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"El valor de result_id no fue encontrado en results."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"field_not_found"</span><span class="p">:</span><span class="w"> </span><span class="s2">"result_id"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"value_not_found"</span><span class="p">:</span><span class="w"> </span><span class="mi">55451238888</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trace_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5fecf53c3699a500937633"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Respuesta que se obtiene al enviar un result_id que no existe en la bd.</p>
<h2 id='response-sample-3-5'>Response Sample 3</h2>
<blockquote>
<p>Respuesta obtenida:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Valor no permitido."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"internal_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">622</span><span class="p">,</span><span class="w">
        </span><span class="nl">"detailed_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"El campo result_id solamente acepta valores numericos."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"wrong_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"result_id"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"index_register"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trace_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5fecf5873699a281292442"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Respuesta que se obtiene al enviar un valor no numerico en result_id.</p>
<h2 id='response-sample-4-4'>Response Sample 4</h2>
<blockquote>
<p>Respuesta obtenida:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"El registro ha sido actualizado exitosamente."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Respuesta exitosa.</p>
<h1 id='upload-results'>Upload Results</h1><h2 id='post-results-full'>Post Results Full</h2>
<p>Este servicio permite inyectar encuestas completas (con nota, verbatim, etc.) en loyalink.</p>
<div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s2">"uri"</span>
<span class="nb">require</span> <span class="s2">"net/http"</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api-example.loyal.ink/api/v2/surveys/results"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">);</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Public-Key"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-public-api-key"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Loyalink-Signature"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-loyalink-signature"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Content-Type"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"application/json"</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"[{</span><span class="se">\"</span><span class="s2">base_id_cliente</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">client_id_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_pto_contacto</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">structure_code_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_nota</span><span class="se">\"</span><span class="s2">:10,</span><span class="se">\"</span><span class="s2">base_verbatim</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">verbatim_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_fecha_encuesta</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2020-09-14 12:00:00</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_fecha_experiencia</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2020-09-13 12:00:00</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">seg_genero</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">gen_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">seg_edad</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_nombre</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">nombre_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_apellidos</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_fonocel</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">fonocel_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">base_id_cliente</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">client_id_2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_pto_contacto</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">structure_code_2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_nota</span><span class="se">\"</span><span class="s2">:9,</span><span class="se">\"</span><span class="s2">base_verbatim</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">verbatim_2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_fecha_encuesta</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2020-09-14 12:00:00</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_fecha_experiencia</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2020-09-13 12:00:00</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">seg_genero</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">gen_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">seg_edad</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_nombre</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">nombre_2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_apellidos</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_fonocel</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">fonocel_2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"\"</span><span class="s2">}]"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>
<span class="kn">import</span> <span class="nn">mimetypes</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"api-example.loyal.ink"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="s">"[{</span><span class="se">\"</span><span class="s">base_id_cliente</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">client_id_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_pto_contacto</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">structure_code_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_nota</span><span class="se">\"</span><span class="s">:10,</span><span class="se">\"</span><span class="s">base_verbatim</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">verbatim_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_fecha_encuesta</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2020-09-14 12:00:00</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_fecha_experiencia</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2020-09-13 12:00:00</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">seg_genero</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">gen_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">seg_edad</span><span class="se">\"</span><span class="s">:</span><span class="se">\"\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_nombre</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">nombre_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_apellidos</span><span class="se">\"</span><span class="s">:</span><span class="se">\"\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_fonocel</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">fonocel_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_email</span><span class="se">\"</span><span class="s">:</span><span class="se">\"\"</span><span class="s">},{</span><span class="se">\"</span><span class="s">base_id_cliente</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">client_id_2</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_pto_contacto</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">structure_code_2</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_nota</span><span class="se">\"</span><span class="s">:9,</span><span class="se">\"</span><span class="s">base_verbatim</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">verbatim_2</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_fecha_encuesta</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2020-09-14 12:00:00</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_fecha_experiencia</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2020-09-13 12:00:00</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">seg_genero</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">gen_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">seg_edad</span><span class="se">\"</span><span class="s">:</span><span class="se">\"\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_nombre</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">nombre_2</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_apellidos</span><span class="se">\"</span><span class="s">:</span><span class="se">\"\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_fonocel</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">fonocel_2</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_email</span><span class="se">\"</span><span class="s">:</span><span class="se">\"\"</span><span class="s">}]"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Public-Key'</span><span class="p">:</span> <span class="s">'your-public-api-key'</span><span class="p">,</span>
  <span class="s">'Loyalink-Signature'</span><span class="p">:</span> <span class="s">'your-loyalink-signature'</span><span class="p">,</span>
  <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span>
<span class="p">}</span>
<span class="n">conn</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/v2/surveys/results"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://api-example.loyal.ink/api/v2/surveys/results'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Public-Key: your-public-api-key'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Loyalink-Signature: your-loyalink-signature'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'[
  {
    "base_id_cliente": "client_id_1",
    "base_pto_contacto": "structure_code_1",
    "base_nota": 10,
    "base_verbatim": "verbatim_1",
    "base_fecha_encuesta": "2020-09-14 12:00:00",
    "base_fecha_experiencia": "2020-09-13 12:00:00",
    "seg_genero": "gen_1",
    "seg_edad": "",
    "otros_nombre": "nombre_1",
    "otros_apellidos": "",
    "otros_fonocel": "fonocel_1",
    "otros_email": ""
  }, {
    "base_id_cliente": "client_id_2",
    "base_pto_contacto": "structure_code_2",
    "base_nota": 9,
    "base_verbatim": "verbatim_2",
    "base_fecha_encuesta": "2020-09-14 12:00:00",
    "base_fecha_experiencia": "2020-09-13 12:00:00",
    "seg_genero": "gen_1",
    "seg_edad": "",
    "otros_nombre": "nombre_2",
    "otros_apellidos": "",
    "otros_fonocel": "fonocel_2",
    "otros_email": ""
  }
]'</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">myHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">();</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Public-Key</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-public-api-key</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Loyalink-Signature</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-loyalink-signature</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">raw</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">([{</span><span class="dl">"</span><span class="s2">base_id_cliente</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">client_id_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_pto_contacto</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">structure_code_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_nota</span><span class="dl">"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_verbatim</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">verbatim_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_fecha_encuesta</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">2020-09-14 12:00:00</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_fecha_experiencia</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">2020-09-13 12:00:00</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">seg_genero</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">gen_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">seg_edad</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_nombre</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">nombre_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_apellidos</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_fonocel</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">fonocel_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_email</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">},{</span><span class="dl">"</span><span class="s2">base_id_cliente</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">client_id_2</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_pto_contacto</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">structure_code_2</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_nota</span><span class="dl">"</span><span class="p">:</span><span class="mi">9</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_verbatim</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">verbatim_2</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_fecha_encuesta</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">2020-09-14 12:00:00</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_fecha_experiencia</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">2020-09-13 12:00:00</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">seg_genero</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">gen_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">seg_edad</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_nombre</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">nombre_2</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_apellidos</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_fonocel</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">fonocel_2</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_email</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">}]);</span>

<span class="kd">var</span> <span class="nx">requestOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="nx">myHeaders</span><span class="p">,</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">raw</span><span class="p">,</span>
  <span class="na">redirect</span><span class="p">:</span> <span class="dl">'</span><span class="s1">follow</span><span class="dl">'</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://api-example.loyal.ink/api/v2/surveys/results</span><span class="dl">"</span><span class="p">,</span> <span class="nx">requestOptions</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">));</span>
</code></pre></div><h2 id='http-request'>HTTP Request</h2>
<p><code>POST https://api-example.loyal.ink/api/v2/surveys/results</code></p>
<h2 id='request-body'>Request Body</h2>
<p>En el body de la petición debe ir un arreglo de objetos json, de este tipo:</p>

<blockquote>
<p>En el body de la petición podrían ir hasta un máximo de 1500 registros por insertar.</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"base_id_cliente"</span><span class="p">:</span><span class="w"> </span><span class="s2">"client_id_1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"base_pto_contacto"</span><span class="p">:</span><span class="w"> </span><span class="s2">"structure_code_1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"base_nota"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"base_verbatim"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verbatim_1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"base_fecha_encuesta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-14 12:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"base_fecha_experiencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-13 12:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"seg_genero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gen_1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"seg_edad"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"otros_nombre"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nombre_1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"otros_apellidos"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"otros_fonocel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fonocel_1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"otros_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"base_id_cliente"</span><span class="p">:</span><span class="w"> </span><span class="s2">"client_id_2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"base_pto_contacto"</span><span class="p">:</span><span class="w"> </span><span class="s2">"structure_code_2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"base_nota"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nl">"base_verbatim"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verbatim_2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"base_fecha_encuesta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-14 12:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"base_fecha_experiencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-13 12:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"seg_genero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gen_1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"seg_edad"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"otros_nombre"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nombre_2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"otros_apellidos"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"otros_fonocel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fonocel_2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"otros_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div><h2 id='allowed-parameters'>Allowed Parameters</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>base_id_cliente</td>
<td>true</td>
<td>String</td>
</tr>
<tr>
<td>base_pto_contacto</td>
<td>true</td>
<td>String</td>
</tr>
<tr>
<td>base_nota</td>
<td>true</td>
<td>String</td>
</tr>
<tr>
<td>base_verbatim</td>
<td>true</td>
<td>String</td>
</tr>
<tr>
<td>base_fecha_encuesta</td>
<td>true</td>
<td>String</td>
</tr>
<tr>
<td>base_fecha_experiencia</td>
<td>true</td>
<td>String</td>
</tr>
<tr>
<td>base_alerta</td>
<td>false</td>
<td>int</td>
</tr>
<tr>
<td>base_estado</td>
<td>false</td>
<td>int</td>
</tr>
</tbody></table>

<p>Los campos con el patrón &quot;seg_xyz&quot; y &quot;otros_xyz&quot; también son permitidos, siempre y cuando exista su respectivo code (y su posible valor en el caso de seg_xyz).</p>

<p>Los campos requeridos son todos aquellos que comienzan con &quot;base_xyz&quot; (con excepción de base_estado y base_alerta que son campos optativos) y estan la lista anterior (campos permitidos), la inexistencia de alguno de estos provocará un error y la no inserción de los registros.</p>
<h3 id='base_id_cliente'>base_id_cliente</h3>
<blockquote>
<p>Si &quot;base_id_cliente&quot;: &quot;&quot;, el error retornado sería:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Campo en blanco."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"internal_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">602</span><span class="p">,</span><span class="w">
        </span><span class="nl">"detailed_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Este campo no puede estar vacio."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"wrong_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"base_id_cliente"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"index_register"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trace_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f6c9f1a26c20263761606"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='base_id_cliente-string-required'>base_id_cliente:string:required</h3>
<ul>
<li>Este campo solamente acepta valores tipo string y no puede estar vacío (&quot;&quot;).</li>
</ul>
<h3 id='base_pto_contacto'>base_pto_contacto</h3>
<blockquote>
<p>En caso de no existir el base_pto_contacto ingresado:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">404</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Campo no encontrado."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"internal_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">604</span><span class="p">,</span><span class="w">
        </span><span class="nl">"detailed_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Campo no existente en structures.code"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"wrong_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"base_pto_contacto"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"index_register"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trace_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f6c9f9e26c20768836009"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='base_pto_contacto-string-required'>base_pto_contacto:string:required</h3>
<ul>
<li>Este campo solamente acepta valores tipo string y no puede estar vacío (&quot;&quot;).</li>
<li>El valor ingresado debe existir dentro de la lista de códigos definidos en loyalink. Para ver en detalle estos códigos se debe comunicar con su consultor a cargo o escribir a soporte@alco.cl.</li>
</ul>
<h3 id='base_nota'>base_nota</h3>
<blockquote>
<p>En caso de intentar enviar un valor fuera de ese rango, por ejemplo &quot;base_nota&quot;: -1, la api retornará:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Valor no permitido."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"internal_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">613</span><span class="p">,</span><span class="w">
        </span><span class="nl">"detailed_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"El valor de base_nota no esta dentro del rango aceptado [0, 10]"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"wrong_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"base_nota"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"index_register"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trace_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f6ca0cb26c20850253123"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='base_nota-int-required'>base_nota:int:required</h3>
<ul>
<li>Este campo solamente acepta valores numéricos enteros entre el rango de <a href="ambos%20incluidos">0, 10</a></li>
</ul>
<h3 id='base_verbatim'>base_verbatim</h3><h3 id='base_verbatim-string-required'>base_verbatim:string:required</h3>
<ul>
<li>Este campo acepta valores tipo string que pueden ser vacíos &quot;base_verbatim&quot;: &quot;&quot;</li>
</ul>
<h3 id='base_fecha_encuesta'>base_fecha_encuesta</h3>
<blockquote>
<p>Error al intentar ingresar una fecha incorrecta</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Campo con error de formato."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"internal_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">614</span><span class="p">,</span><span class="w">
        </span><span class="nl">"detailed_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Error de formato en la fecha (formato aceptado YYYY-MM-DD HH:MM:SS)."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"wrong_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"base_fecha_encuesta"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"index_register"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trace_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f6ca27426c20477062375"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='base_fecha_encuesta-string-required'>base_fecha_encuesta:string:required</h3>
<ul>
<li><p>Este campo acepta valores tipo string con formato de fecha YYYY-MM-DD HH:MM:SS, por ejemplo: &quot;2019-10-18 12:00:00&quot;.</p></li>
<li><p>No se aceptan campos vacíos &quot;&quot; o con el formato &quot;0000-00-00 00:00:00&quot;.</p></li>
</ul>
<h3 id='base_fecha_experiencia'>base_fecha_experiencia</h3>
<blockquote>
<p>Error al intentar ingresar una fecha incorrecta</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Campo con error de formato."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"internal_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">614</span><span class="p">,</span><span class="w">
        </span><span class="nl">"detailed_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Error de formato en la fecha (formato aceptado YYYY-MM-DD HH:MM:SS)."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"wrong_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"base_fecha_encuesta"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"index_register"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trace_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f6ca2c726c20769022908"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='base_fecha_experiencia-string-required'>base_fecha_experiencia:string:required</h3>
<ul>
<li><p>Este campo acepta valores tipo string con formato de fecha YYYY-MM-DD HH:MM:SS, por ejemplo: &quot;2019-10-18 12:00:00&quot;.</p></li>
<li><p>No se aceptan campos vacíos &quot;&quot; o con el formato &quot;0000-00-00 00:00:00&quot;.</p></li>
</ul>
<h3 id='base_alerta'>base_alerta</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Valor no permitido."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"internal_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">616</span><span class="p">,</span><span class="w">
        </span><span class="nl">"detailed_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"El campo solo acepta los valores 0 o 1."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"wrong_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"base_alerta"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"index_register"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trace_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f6ca37a26c20395554229"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='base_alerta-int-optional'>base_alerta:int:optional</h3>
<ul>
<li>Este es un campo opcional (puede venir o no dentro de algún registro dentro del body), en caso de que se intente enviar este campo, se aplicarán validaciones.</li>
<li>Los valor permitidos son 0 y 1. En caso de intentar enviar algun valor distinto se arrojará un error del tipo:</li>
</ul>
<h3 id='base_estado'>base_estado</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Valor no permitido."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"internal_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">616</span><span class="p">,</span><span class="w">
        </span><span class="nl">"detailed_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"El campo solo acepta los valores 0 o 1."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"wrong_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"base_estado"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"index_register"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trace_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f6ca3eb26c20865559506"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='base_estado-int-optional'>base_estado:int:optional</h3>
<ul>
<li>Este es un campo opcional (puede venir o no dentro de algún registro dentro del body), en caso de que se intente enviar este campo, se aplicarán validaciones.</li>
<li>Los valor permitidos son 0 y 1. En caso de intentar enviar algun valor distinto se arrojará un error del tipo:</li>
</ul>
<h2 id='acerca-de-los-campos-seg_'>Acerca de los campos seg_*</h2>
<blockquote>
<p>En caso de no existir el campo seg_*, se arroja un error:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Campo no permitido."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"internal_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">600</span><span class="p">,</span><span class="w">
        </span><span class="nl">"detailed_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Existe un campo que no es aceptado."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"wrong_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seg_genero"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"index_register"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trace_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f6cbba126c20640049317"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='campos-con-el-patron-seg_'>Campos con el patrón seg_*</h3>
<p>Los campos ingresado con la clave seg_*, por ejemplo:
<code>&quot;seg_genero&quot;: &quot;gen_1&quot;</code>
Pasan por la validación de existencia de la clave, tanto para code_2 (seg_genero en este caso) como para code_3 (gen_1 en este caso). Para más detalles acerca de los valores permitidos puede consultar el servicio &quot;Segments&quot;.</p>

<ul>
<li>Los campos seg_* cuyo valor (code_3) sea &quot;&quot; serán ignorados.</li>
<li>El valor que lleva un campo seg_* puede ser tanto string como entero.</li>
</ul>
<h2 id='acerca-de-los-campos-otros_'>Acerca de los campos otros_*</h2>
<blockquote>
<p>En caso de no existir el code, se arroja un error del tipo:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Campo no permitido."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"internal_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">600</span><span class="p">,</span><span class="w">
        </span><span class="nl">"detailed_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Existe un campo que no es aceptado."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"wrong_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"otros_campo_no_existente"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"index_register"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trace_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f6cbf1a26c20252474174"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='campos-con-el-patron-seg_-2'>Campos con el patrón seg_*</h3>
<p>Los campos ingresado con la clave otros_*, por ejemplo:
<code>&quot;otros_nombre&quot;: &quot;nombre_1&quot;</code>
Pasan por la validación de existencia de la clave (code=&quot;otros_nombre&quot; en este caso). Para más detalles acerca de los valores permitidos puede consultar el servicio &quot;Others&quot;.</p>

<ul>
<li>Los campos otros_* cuyo valor sea &quot;&quot; serán ignorados.</li>
<li>El valor que lleva un campo otros_* solamente puede ser string.</li>
</ul>
<h2 id='maxima-cantidad-de-registros-a-insertar'>Máxima cantidad de registros a insertar</h2>
<blockquote>
<p>si se excede ese número la API arrojará un error:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Error en la cantidad de registros."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"internal_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">615</span><span class="p">,</span><span class="w">
        </span><span class="nl">"detailed_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Se excede el limite máximo de registros a insertar (máximo = 1500)"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trace_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f6c9e9a3b962298516443"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>El limite máximo de registros a insertar (cantidad de elementos json dentro del array del body) es de 1500, es decir, dentro del array del body pueden ir hasta 1500 objetos json.</p>
<h2 id='forget-required-parameter'>Forget Required Parameter</h2><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Campo no encontrado."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"internal_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">601</span><span class="p">,</span><span class="w">
        </span><span class="nl">"detailed_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Falta un campo requerido."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"wrong_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"base_verbatim"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"index_register"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trace_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f6c9d901ded7635560186"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Si llegara a faltar algun campo requerido la consulta sería rechazada. Por ejemplo si no existiera el campo base_verbatim en el body:</p>
<h2 id='type-of-request-1'>Type Of Request 1</h2><h2 id='body-en-formato-json'>Body en formato JSON</h2><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"base_id_cliente"</span><span class="p">:</span><span class="w"> </span><span class="s2">"client_id_1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"base_pto_contacto"</span><span class="p">:</span><span class="w"> </span><span class="s2">"structure_code_1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"base_nota"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"base_verbatim"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verbatim_1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"base_fecha_encuesta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-14 12:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"base_fecha_experiencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-13 12:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"seg_genero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gen_1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"seg_edad"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"otros_nombre"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nombre_1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"otros_apellidos"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"otros_fonocel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fonocel_1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"otros_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"base_id_cliente"</span><span class="p">:</span><span class="w"> </span><span class="s2">"client_id_2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"base_pto_contacto"</span><span class="p">:</span><span class="w"> </span><span class="s2">"structure_code_2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"base_nota"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nl">"base_verbatim"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verbatim_2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"base_fecha_encuesta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-14 12:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"base_fecha_experiencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-13 12:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"seg_genero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gen_1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"seg_edad"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"otros_nombre"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nombre_2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"otros_apellidos"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"otros_fonocel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fonocel_2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"otros_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div><h2 id='request'>Request</h2><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">myHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">();</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Public-Key</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-public-api-key</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Loyalink-Signature</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-loyalink-signature</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">raw</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">([{</span><span class="dl">"</span><span class="s2">base_id_cliente</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">client_id_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_pto_contacto</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">structure_code_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_nota</span><span class="dl">"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_verbatim</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">verbatim_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_fecha_encuesta</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">2020-09-14 12:00:00</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_fecha_experiencia</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">2020-09-13 12:00:00</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">seg_genero</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">gen_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">seg_edad</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_nombre</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">nombre_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_apellidos</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_fonocel</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">fonocel_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_email</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">},{</span><span class="dl">"</span><span class="s2">base_id_cliente</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">client_id_2</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_pto_contacto</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">structure_code_2</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_nota</span><span class="dl">"</span><span class="p">:</span><span class="mi">9</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_verbatim</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">verbatim_2</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_fecha_encuesta</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">2020-09-14 12:00:00</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_fecha_experiencia</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">2020-09-13 12:00:00</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">seg_genero</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">gen_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">seg_edad</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_nombre</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">nombre_2</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_apellidos</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_fonocel</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">fonocel_2</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_email</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">}]);</span>

<span class="kd">var</span> <span class="nx">requestOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="nx">myHeaders</span><span class="p">,</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">raw</span><span class="p">,</span>
  <span class="na">redirect</span><span class="p">:</span> <span class="dl">'</span><span class="s1">follow</span><span class="dl">'</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://api-example.loyal.ink/api/v2/surveys/results</span><span class="dl">"</span><span class="p">,</span> <span class="nx">requestOptions</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">));</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s2">"uri"</span>
<span class="nb">require</span> <span class="s2">"net/http"</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api-example.loyal.ink/api/v2/surveys/results"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">);</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Public-Key"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-public-api-key"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Loyalink-Signature"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-loyalink-signature"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Content-Type"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"application/json"</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"[{</span><span class="se">\"</span><span class="s2">base_id_cliente</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">client_id_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_pto_contacto</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">structure_code_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_nota</span><span class="se">\"</span><span class="s2">:10,</span><span class="se">\"</span><span class="s2">base_verbatim</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">verbatim_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_fecha_encuesta</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2020-09-14 12:00:00</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_fecha_experiencia</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2020-09-13 12:00:00</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">seg_genero</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">gen_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">seg_edad</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_nombre</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">nombre_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_apellidos</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_fonocel</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">fonocel_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">base_id_cliente</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">client_id_2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_pto_contacto</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">structure_code_2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_nota</span><span class="se">\"</span><span class="s2">:9,</span><span class="se">\"</span><span class="s2">base_verbatim</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">verbatim_2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_fecha_encuesta</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2020-09-14 12:00:00</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_fecha_experiencia</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2020-09-13 12:00:00</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">seg_genero</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">gen_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">seg_edad</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_nombre</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">nombre_2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_apellidos</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_fonocel</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">fonocel_2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"\"</span><span class="s2">}]"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>
<span class="kn">import</span> <span class="nn">mimetypes</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"api-example.loyal.ink"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="s">"[{</span><span class="se">\"</span><span class="s">base_id_cliente</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">client_id_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_pto_contacto</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">structure_code_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_nota</span><span class="se">\"</span><span class="s">:10,</span><span class="se">\"</span><span class="s">base_verbatim</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">verbatim_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_fecha_encuesta</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2020-09-14 12:00:00</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_fecha_experiencia</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2020-09-13 12:00:00</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">seg_genero</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">gen_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">seg_edad</span><span class="se">\"</span><span class="s">:</span><span class="se">\"\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_nombre</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">nombre_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_apellidos</span><span class="se">\"</span><span class="s">:</span><span class="se">\"\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_fonocel</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">fonocel_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_email</span><span class="se">\"</span><span class="s">:</span><span class="se">\"\"</span><span class="s">},{</span><span class="se">\"</span><span class="s">base_id_cliente</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">client_id_2</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_pto_contacto</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">structure_code_2</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_nota</span><span class="se">\"</span><span class="s">:9,</span><span class="se">\"</span><span class="s">base_verbatim</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">verbatim_2</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_fecha_encuesta</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2020-09-14 12:00:00</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_fecha_experiencia</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2020-09-13 12:00:00</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">seg_genero</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">gen_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">seg_edad</span><span class="se">\"</span><span class="s">:</span><span class="se">\"\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_nombre</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">nombre_2</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_apellidos</span><span class="se">\"</span><span class="s">:</span><span class="se">\"\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_fonocel</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">fonocel_2</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_email</span><span class="se">\"</span><span class="s">:</span><span class="se">\"\"</span><span class="s">}]"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Public-Key'</span><span class="p">:</span> <span class="s">'your-public-api-key'</span><span class="p">,</span>
  <span class="s">'Loyalink-Signature'</span><span class="p">:</span> <span class="s">'your-loyalink-signature'</span><span class="p">,</span>
  <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span>
<span class="p">}</span>
<span class="n">conn</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/v2/surveys/results"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'http://api-example.loyal.ink/api/v2/surveys/results'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Public-Key: your-public-api-key'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Loyalink-Signature: your-loyalink-signature'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'[{"base_id_cliente":"client_id_1","base_pto_contacto":"structure_code_1","base_nota":10,"base_verbatim":"verbatim_1","base_fecha_encuesta":"2020-09-14 12:00:00","base_fecha_experiencia":"2020-09-13 12:00:00","seg_genero":"gen_1","seg_edad":"","otros_nombre":"nombre_1","otros_apellidos":"","otros_fonocel":"fonocel_1","otros_email":""},{"base_id_cliente":"client_id_2","base_pto_contacto":"structure_code_2","base_nota":9,"base_verbatim":"verbatim_2","base_fecha_encuesta":"2020-09-14 12:00:00","base_fecha_experiencia":"2020-09-13 12:00:00","seg_genero":"gen_1","seg_edad":"","otros_nombre":"nombre_2","otros_apellidos":"","otros_fonocel":"fonocel_2","otros_email":""}]'</span>
</code></pre></div><h2 id='response'>Response</h2>
<blockquote>
<p>Si todos los campos del body y las credenciales estan correctas, obtendremos como respuesta el siguente json:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Los registros han sido insertados exitosamente."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h1 id='send-surveys-massive-endpoint'>Send Surveys (massive endpoint)</h1><h2 id='post-surveys'>Post Surveys</h2><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s2">"uri"</span>
<span class="nb">require</span> <span class="s2">"net/http"</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api-example.loyal.ink/api/v2/surveys"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">);</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Public-Key"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-public-api-key"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Loyalink-Signature"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-loyalink-signature"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Measurement-Channel"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"api"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Campaign-Name"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"yyyymmdd_example_api.csv"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Content-Type"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"application/json"</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"[{</span><span class="se">\"</span><span class="s2">base_hinteraccion</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">12:00:00</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_id_cliente</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">client_id_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_pto_contacto</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">structure_code_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_finteraccion</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2020-07-06</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_cod_encuesta</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">poll_code_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">seg_genero</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">gen_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">seg_edad</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">edad_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_nombre</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">nombre_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_fonocel</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">fonocel_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">example_1@loyal.ink</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">base_hinteraccion</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">00:00:00</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_id_cliente</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">client_id_2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_pto_contacto</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">structure_code_2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_finteraccion</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2020-07-06</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_cod_encuesta</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">poll_code_2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">seg_genero</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">gen_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">seg_edad</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">edad_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_nombre</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">nombre_2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_fonocel</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">fonocel_2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">example_2@loyal.ink</span><span class="se">\"</span><span class="s2">}]"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>
<span class="kn">import</span> <span class="nn">mimetypes</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"api-example.loyal.ink"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="s">"[{</span><span class="se">\"</span><span class="s">base_hinteraccion</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">12:00:00</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_id_cliente</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">client_id_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_pto_contacto</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">structure_code_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_finteraccion</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2020-07-06</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_cod_encuesta</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">poll_code_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">seg_genero</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">gen_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">seg_edad</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">edad_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_nombre</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">nombre_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_fonocel</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">fonocel_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_email</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">example_1@loyal.ink</span><span class="se">\"</span><span class="s">},{</span><span class="se">\"</span><span class="s">base_hinteraccion</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">00:00:00</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_id_cliente</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">client_id_2</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_pto_contacto</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">structure_code_2</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_finteraccion</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2020-07-06</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_cod_encuesta</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">poll_code_2</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">seg_genero</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">gen_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">seg_edad</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">edad_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_nombre</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">nombre_2</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_fonocel</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">fonocel_2</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_email</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">example_2@loyal.ink</span><span class="se">\"</span><span class="s">}]"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Public-Key'</span><span class="p">:</span> <span class="s">'your-public-api-key'</span><span class="p">,</span>
  <span class="s">'Loyalink-Signature'</span><span class="p">:</span> <span class="s">'your-loyalink-signature'</span><span class="p">,</span>
  <span class="s">'Measurement-Channel'</span><span class="p">:</span> <span class="s">'api'</span><span class="p">,</span>
  <span class="s">'Campaign-Name'</span><span class="p">:</span> <span class="s">'yyyymmdd_example_api.csv'</span><span class="p">,</span>
  <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span>
<span class="p">}</span>
<span class="n">conn</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/v2/surveys"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://api-example.loyal.ink/api/v2/surveys'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Public-Key: your-public-api-key'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Loyalink-Signature: your-loyalink-signature'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Measurement-Channel: api'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Campaign-Name: yyyymmdd_example_api.csv'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'[
  {
    "base_hinteraccion": "12:00:00",
    "base_id_cliente": "client_id_1",
    "base_pto_contacto": "structure_code_1",
    "base_finteraccion": "2020-07-06",
    "base_cod_encuesta": "poll_code_1",
    "seg_genero": "gen_1",
    "seg_edad": "edad_1",
    "otros_nombre": "nombre_1",
    "otros_fonocel": "fonocel_1",
    "otros_email": "example_1@loyal.ink"
  }, {
    "base_hinteraccion": "00:00:00",
    "base_id_cliente": "client_id_2",
    "base_pto_contacto": "structure_code_2",
    "base_finteraccion": "2020-07-06",
    "base_cod_encuesta": "poll_code_2",
    "seg_genero": "gen_1",
    "seg_edad": "edad_1",
    "otros_nombre": "nombre_2",
    "otros_fonocel": "fonocel_2",
    "otros_email": "example_2@loyal.ink"
  }
]'</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">myHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">();</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Public-Key</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-public-api-key</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Loyalink-Signature</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-loyalink-signature</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Measurement-Channel</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">api</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Campaign-Name</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">yyyymmdd_example_api.csv</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">raw</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">([{</span><span class="dl">"</span><span class="s2">base_hinteraccion</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">12:00:00</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_id_cliente</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">client_id_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_pto_contacto</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">structure_code_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_finteraccion</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">2020-07-06</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_cod_encuesta</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">poll_code_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">seg_genero</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">gen_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">seg_edad</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">edad_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_nombre</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">nombre_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_fonocel</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">fonocel_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_email</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">example_1@loyal.ink</span><span class="dl">"</span><span class="p">},{</span><span class="dl">"</span><span class="s2">base_hinteraccion</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">00:00:00</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_id_cliente</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">client_id_2</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_pto_contacto</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">structure_code_2</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_finteraccion</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">2020-07-06</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_cod_encuesta</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">poll_code_2</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">seg_genero</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">gen_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">seg_edad</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">edad_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_nombre</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">nombre_2</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_fonocel</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">fonocel_2</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_email</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">example_2@loyal.ink</span><span class="dl">"</span><span class="p">}]);</span>

<span class="kd">var</span> <span class="nx">requestOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="nx">myHeaders</span><span class="p">,</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">raw</span><span class="p">,</span>
  <span class="na">redirect</span><span class="p">:</span> <span class="dl">'</span><span class="s1">follow</span><span class="dl">'</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://api-example.loyal.ink/api/v2/surveys</span><span class="dl">"</span><span class="p">,</span> <span class="nx">requestOptions</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">));</span>
</code></pre></div>
<p>Este endpoint deja en cola los registros enviados en el body de la petición para que loyalink los envíe vía correo tiempo después de forma automática.</p>
<h2 id='http-request-2'>HTTP Request</h2>
<p><code>POST https://api-example.loyal.ink/api/v2/surveys</code></p>
<h2 id='request-body-2'>Request Body</h2>
<p>En el body de la petición debe ir un arreglo de objetos json, de este tipo:</p>

<blockquote>
<p>En el body de la petición podrían ir N objetos, y cada uno de ellos eventualmente generará un correo.</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
          </span><span class="nl">"base_hinteraccion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"base_id_cliente"</span><span class="p">:</span><span class="w"> </span><span class="s2">"client_id_1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"base_pto_contacto"</span><span class="p">:</span><span class="w"> </span><span class="s2">"structure_code_1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"base_finteraccion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-07-06"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"base_cod_encuesta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"poll_code_1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"seg_genero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gen_1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"seg_edad"</span><span class="p">:</span><span class="w"> </span><span class="s2">"edad_1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"otros_nombre"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nombre_1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"otros_fonocel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fonocel_1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"otros_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example_1@loyal.ink"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
          </span><span class="nl">"base_hinteraccion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"base_id_cliente"</span><span class="p">:</span><span class="w"> </span><span class="s2">"client_id_2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"base_pto_contacto"</span><span class="p">:</span><span class="w"> </span><span class="s2">"structure_code_2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"base_finteraccion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-07-06"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"base_cod_encuesta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"poll_code_2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"seg_genero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gen_1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"seg_edad"</span><span class="p">:</span><span class="w"> </span><span class="s2">"edad_1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"otros_nombre"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nombre_2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"otros_fonocel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fonocel_2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"otros_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example_2@loyal.ink"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div><h2 id='required-parameters'>Required Parameters</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>base_id_cliente</td>
<td>true</td>
<td>La no existencia de este campo en cada objeto del body provocará el rechazo de la petición.</td>
</tr>
<tr>
<td>base_pto_contacto</td>
<td>true</td>
<td>La no existencia de este campo en cada objeto del body provocará el rechazo de la petición.</td>
</tr>
<tr>
<td>base_finteraccion</td>
<td>true</td>
<td>La no existencia de este campo en cada objeto del body provocará el rechazo de la petición.</td>
</tr>
<tr>
<td>base_cod_encuesta</td>
<td>true</td>
<td>La no existencia de este campo en cada objeto del body provocará el rechazo de la petición.</td>
</tr>
</tbody></table>
<h2 id='optional-headers'>Optional Headers</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Measurement-Channel</td>
<td>false</td>
<td>Para este endpoint el valor por defecto es api, pero podría cambiar a mail o whatsapp dependiendo de lo que aconseje el consultor a cargo (dudas a soporte@alco.cl).</td>
</tr>
<tr>
<td>Campaign-Name</td>
<td>false</td>
<td>La única restricción que tiene es que el nombre comience con una fecha válida en formato yyyymmdd, y se recomienda utilizar nombres diarios del tipo &quot;yyyymmdd_example_channel_descripcion_corta.csv&quot;.</td>
</tr>
</tbody></table>
<h2 id='type-of-request-1-2'>Type Of Request 1</h2>
<p>Agregar un solo registro a la lista de envíos. En el cuerpo del request se puede incluir hasta 1500 objetos en el json usando este endpoint masivo.</p>

<p><code>POST https://api-example.loyal.ink/api/v2/surveys</code></p>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code>
<span class="kd">var</span> <span class="nx">myHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">();</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Public-Key</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-public-api-key</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Loyalink-Signature</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-loyalink-signature</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">raw</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">([{</span><span class="dl">"</span><span class="s2">base_hinteraccion</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">12:00:00</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_id_cliente</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">client_id_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_pto_contacto</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">structure_code_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_finteraccion</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">2020-07-06</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_cod_encuesta</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">poll_code_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">seg_genero</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">gen_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">seg_edad</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">edad_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_nombre</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">nombre_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_fonocel</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">fonocel_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_email</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">example_1@loyal.ink</span><span class="dl">"</span><span class="p">}]);</span>

<span class="kd">var</span> <span class="nx">requestOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="nx">myHeaders</span><span class="p">,</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">raw</span><span class="p">,</span>
  <span class="na">redirect</span><span class="p">:</span> <span class="dl">'</span><span class="s1">follow</span><span class="dl">'</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://api-staging.loyal.ink/api/v2/surveys</span><span class="dl">"</span><span class="p">,</span> <span class="nx">requestOptions</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">));</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s2">"uri"</span>
<span class="nb">require</span> <span class="s2">"net/http"</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api-example.loyal.ink/api/v2/surveys"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">);</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Public-Key"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-public-api-key"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Loyalink-Signature"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-loyalink-signature"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Content-Type"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"application/json"</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"[{</span><span class="se">\"</span><span class="s2">base_hinteraccion</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">12:00:00</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_id_cliente</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">client_id_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_pto_contacto</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">structure_code_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_finteraccion</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2020-07-06</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_cod_encuesta</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">poll_code_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">seg_genero</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">gen_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">seg_edad</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">edad_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_nombre</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">nombre_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_fonocel</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">fonocel_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">example_1@loyal.ink</span><span class="se">\"</span><span class="s2">}]"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>
<span class="kn">import</span> <span class="nn">mimetypes</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"api-example.loyal.ink"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="s">"[{</span><span class="se">\"</span><span class="s">base_hinteraccion</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">12:00:00</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_id_cliente</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">client_id_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_pto_contacto</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">structure_code_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_finteraccion</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2020-07-06</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_cod_encuesta</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">poll_code_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">seg_genero</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">gen_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">seg_edad</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">edad_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_nombre</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">nombre_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_fonocel</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">fonocel_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_email</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">example_1@loyal.ink</span><span class="se">\"</span><span class="s">}]"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Public-Key'</span><span class="p">:</span> <span class="s">'your-public-api-key'</span><span class="p">,</span>
  <span class="s">'Loyalink-Signature'</span><span class="p">:</span> <span class="s">'your-loyalink-signature'</span><span class="p">,</span>
  <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span>
<span class="p">}</span>
<span class="n">conn</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/v2/surveys"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://api-example.loyal.ink/api/v2/surveys'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Public-Key: your-public-api-key'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Loyalink-Signature: your-loyalink-signature'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'[
  {
    "base_hinteraccion": "12:00:00",
    "base_id_cliente": "client_id_1",
    "base_pto_contacto": "structure_code_1",
    "base_finteraccion": "2020-07-06",
    "base_cod_encuesta": "poll_code_1",
    "seg_genero": "gen_1",
    "seg_edad": "edad_1",
    "otros_nombre": "nombre_1",
    "otros_fonocel": "fonocel_1",
    "otros_email": "example_1@loyal.ink"
  }
]'</span>
</code></pre></div><h1 id='send-survey-unit-endpoint'>Send Survey (unit endpoint)</h1><h2 id='post-a-survey'>Post A Survey</h2><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s2">"uri"</span>
<span class="nb">require</span> <span class="s2">"net/http"</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api-example.loyal.ink/api/v2/survey"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">);</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Public-Key"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-public-api-key"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Loyalink-Signature"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-loyalink-signature"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Measurement-Channel"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"api"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Campaign-Name"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"yyyymmdd_example_api.csv"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Content-Type"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"application/json"</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"[{</span><span class="se">\"</span><span class="s2">base_hinteraccion</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">12:00:00</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_id_cliente</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">client_id_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_pto_contacto</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">structure_code_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_finteraccion</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2020-07-06</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_cod_encuesta</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">poll_code_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">seg_genero</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">gen_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">seg_edad</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">edad_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_nombre</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">nombre_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_fonocel</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">fonocel_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">example_1@loyal.ink</span><span class="se">\"</span><span class="s2">}]"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>
<span class="kn">import</span> <span class="nn">mimetypes</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"api-example.loyal.ink"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="s">"[{</span><span class="se">\"</span><span class="s">base_hinteraccion</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">12:00:00</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_id_cliente</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">client_id_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_pto_contacto</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">structure_code_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_finteraccion</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2020-07-06</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_cod_encuesta</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">poll_code_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">seg_genero</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">gen_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">seg_edad</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">edad_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_nombre</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">nombre_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_fonocel</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">fonocel_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_email</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">example_1@loyal.ink</span><span class="se">\"</span><span class="s">}]"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Public-Key'</span><span class="p">:</span> <span class="s">'your-public-api-key'</span><span class="p">,</span>
  <span class="s">'Loyalink-Signature'</span><span class="p">:</span> <span class="s">'your-loyalink-signature'</span><span class="p">,</span>
  <span class="s">'Measurement-Channel'</span><span class="p">:</span> <span class="s">'api'</span><span class="p">,</span>
  <span class="s">'Campaign-Name'</span><span class="p">:</span> <span class="s">'yyyymmdd_example_api.csv'</span><span class="p">,</span>
  <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span>
<span class="p">}</span>
<span class="n">conn</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/v2/survey"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://api-example.loyal.ink/api/v2/survey'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Public-Key: your-public-api-key'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Loyalink-Signature: your-loyalink-signature'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Measurement-Channel: api'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Campaign-Name: yyyymmdd_example_api.csv'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'[
  {
    "base_hinteraccion": "12:00:00",
    "base_id_cliente": "client_id_1",
    "base_pto_contacto": "structure_code_1",
    "base_finteraccion": "2020-07-06",
    "base_cod_encuesta": "poll_code_1",
    "seg_genero": "gen_1",
    "seg_edad": "edad_1",
    "otros_nombre": "nombre_1",
    "otros_fonocel": "fonocel_1",
    "otros_email": "example_1@loyal.ink"
  }
]'</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">myHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">();</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Public-Key</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-public-api-key</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Loyalink-Signature</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-loyalink-signature</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Measurement-Channel</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">api</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Campaign-Name</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">yyyymmdd_example_api.csv</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">raw</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">([{</span><span class="dl">"</span><span class="s2">base_hinteraccion</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">12:00:00</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_id_cliente</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">client_id_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_pto_contacto</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">structure_code_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_finteraccion</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">2020-07-06</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_cod_encuesta</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">poll_code_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">seg_genero</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">gen_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">seg_edad</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">edad_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_nombre</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">nombre_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_fonocel</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">fonocel_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_email</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">example_1@loyal.ink</span><span class="dl">"</span><span class="p">}]);</span>

<span class="kd">var</span> <span class="nx">requestOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="nx">myHeaders</span><span class="p">,</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">raw</span><span class="p">,</span>
  <span class="na">redirect</span><span class="p">:</span> <span class="dl">'</span><span class="s1">follow</span><span class="dl">'</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://api-example.loyal.ink/api/v2/survey</span><span class="dl">"</span><span class="p">,</span> <span class="nx">requestOptions</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">));</span>
</code></pre></div>
<p>Este endpoint deja en cola el registro enviado en el body de la petición para que loyalink lo envíe vía correo tiempo después de forma automática.</p>
<h2 id='http-request-3'>HTTP Request</h2>
<p><code>POST https://api-example.loyal.ink/api/v2/survey</code></p>
<h2 id='request-body-3'>Request Body</h2>
<p>En el body de la petición debe ir un arreglo de objetos json, de este tipo:</p>

<blockquote>
<p>En el body de la petición podrían ir 1 objeto que eventualmente generará un correo.</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
          </span><span class="nl">"base_hinteraccion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"base_id_cliente"</span><span class="p">:</span><span class="w"> </span><span class="s2">"client_id_1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"base_pto_contacto"</span><span class="p">:</span><span class="w"> </span><span class="s2">"structure_code_1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"base_finteraccion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-07-06"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"base_cod_encuesta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"poll_code_1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"seg_genero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gen_1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"seg_edad"</span><span class="p">:</span><span class="w"> </span><span class="s2">"edad_1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"otros_nombre"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nombre_1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"otros_fonocel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fonocel_1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"otros_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example_1@loyal.ink"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div><h2 id='required-parameters-2'>Required Parameters</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>base_id_cliente</td>
<td>true</td>
<td>La no existencia de este campo en cada objeto del body provocará el rechazo de la petición.</td>
</tr>
<tr>
<td>base_pto_contacto</td>
<td>true</td>
<td>La no existencia de este campo en cada objeto del body provocará el rechazo de la petición.</td>
</tr>
<tr>
<td>base_finteraccion</td>
<td>true</td>
<td>La no existencia de este campo en cada objeto del body provocará el rechazo de la petición.</td>
</tr>
<tr>
<td>base_cod_encuesta</td>
<td>true</td>
<td>La no existencia de este campo en cada objeto del body provocará el rechazo de la petición.</td>
</tr>
</tbody></table>
<h2 id='optional-headers-2'>Optional Headers</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Measurement-Channel</td>
<td>false</td>
<td>Para este endpoint el valor por defecto es api, pero podría cambiar a mail o whatsapp dependiendo de lo que aconseje el consultor a cargo (dudas a soporte@alco.cl).</td>
</tr>
<tr>
<td>Campaign-Name</td>
<td>false</td>
<td>La única restricción que tiene es que el nombre comience con una fecha válida en formato yyyymmdd, y se recomienda utilizar nombres diarios del tipo &quot;yyyymmdd_example_channel_descripcion_corta.csv&quot;.</td>
</tr>
</tbody></table>
<h2 id='type-of-request-1-3'>Type Of Request 1</h2>
<p>Agregar un solo registro a la lista de envíos. En el cuerpo del request se puede incluir solo 1 objeto (un registro) en el json usando este endpoint unitario.</p>

<p><code>POST https://api-example.loyal.ink/api/v2/survey</code></p>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code>
<span class="kd">var</span> <span class="nx">myHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">();</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Public-Key</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-public-api-key</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Loyalink-Signature</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-loyalink-signature</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">raw</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">([{</span><span class="dl">"</span><span class="s2">base_hinteraccion</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">12:00:00</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_id_cliente</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">client_id_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_pto_contacto</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">structure_code_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_finteraccion</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">2020-07-06</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_cod_encuesta</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">poll_code_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">seg_genero</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">gen_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">seg_edad</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">edad_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_nombre</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">nombre_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_fonocel</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">fonocel_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_email</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">example_1@loyal.ink</span><span class="dl">"</span><span class="p">}]);</span>

<span class="kd">var</span> <span class="nx">requestOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="nx">myHeaders</span><span class="p">,</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">raw</span><span class="p">,</span>
  <span class="na">redirect</span><span class="p">:</span> <span class="dl">'</span><span class="s1">follow</span><span class="dl">'</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://api-staging.loyal.ink/api/v2/survey</span><span class="dl">"</span><span class="p">,</span> <span class="nx">requestOptions</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">));</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s2">"uri"</span>
<span class="nb">require</span> <span class="s2">"net/http"</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api-example.loyal.ink/api/v2/survey"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">);</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Public-Key"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-public-api-key"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Loyalink-Signature"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-loyalink-signature"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Content-Type"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"application/json"</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"[{</span><span class="se">\"</span><span class="s2">base_hinteraccion</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">12:00:00</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_id_cliente</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">client_id_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_pto_contacto</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">structure_code_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_finteraccion</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2020-07-06</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_cod_encuesta</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">poll_code_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">seg_genero</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">gen_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">seg_edad</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">edad_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_nombre</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">nombre_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_fonocel</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">fonocel_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">example_1@loyal.ink</span><span class="se">\"</span><span class="s2">}]"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>
<span class="kn">import</span> <span class="nn">mimetypes</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"api-example.loyal.ink"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="s">"[{</span><span class="se">\"</span><span class="s">base_hinteraccion</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">12:00:00</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_id_cliente</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">client_id_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_pto_contacto</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">structure_code_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_finteraccion</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2020-07-06</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_cod_encuesta</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">poll_code_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">seg_genero</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">gen_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">seg_edad</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">edad_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_nombre</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">nombre_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_fonocel</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">fonocel_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_email</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">example_1@loyal.ink</span><span class="se">\"</span><span class="s">}]"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Public-Key'</span><span class="p">:</span> <span class="s">'your-public-api-key'</span><span class="p">,</span>
  <span class="s">'Loyalink-Signature'</span><span class="p">:</span> <span class="s">'your-loyalink-signature'</span><span class="p">,</span>
  <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span>
<span class="p">}</span>
<span class="n">conn</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/v2/survey"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://api-example.loyal.ink/api/v2/survey'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Public-Key: your-public-api-key'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Loyalink-Signature: your-loyalink-signature'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'[
  {
    "base_hinteraccion": "12:00:00",
    "base_id_cliente": "client_id_1",
    "base_pto_contacto": "structure_code_1",
    "base_finteraccion": "2020-07-06",
    "base_cod_encuesta": "poll_code_1",
    "seg_genero": "gen_1",
    "seg_edad": "edad_1",
    "otros_nombre": "nombre_1",
    "otros_fonocel": "fonocel_1",
    "otros_email": "example_1@loyal.ink"
  }
]'</span>
</code></pre></div><h1 id='get-link-for-push-unit-endpoint'>Get Link for Push (unit endpoint)</h1><h2 id='get-link-for-push'>Get Link for Push</h2><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s2">"uri"</span>
<span class="nb">require</span> <span class="s2">"net/http"</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api-example.loyal.ink/api/v2/survey/push"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">);</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Public-Key"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-public-api-key"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Loyalink-Signature"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-loyalink-signature"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Measurement-Channel"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"push"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Campaign-Name"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"yyyymmdd_example_push.csv"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Content-Type"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"application/json"</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"[{</span><span class="se">\"</span><span class="s2">base_hinteraccion</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">12:00:00</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_id_cliente</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">client_id_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_pto_contacto</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">structure_code_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_finteraccion</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2020-07-06</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">base_cod_encuesta</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">poll_code_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">seg_genero</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">gen_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">seg_edad</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">edad_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_nombre</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">nombre_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_fonocel</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">fonocel_1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">otros_email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">example_1@loyal.ink</span><span class="se">\"</span><span class="s2">}]"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>
<span class="kn">import</span> <span class="nn">mimetypes</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"api-example.loyal.ink"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="s">"[{</span><span class="se">\"</span><span class="s">base_hinteraccion</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">12:00:00</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_id_cliente</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">client_id_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_pto_contacto</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">structure_code_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_finteraccion</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">2020-07-06</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">base_cod_encuesta</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">poll_code_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">seg_genero</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">gen_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">seg_edad</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">edad_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_nombre</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">nombre_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_fonocel</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">fonocel_1</span><span class="se">\"</span><span class="s">,</span><span class="se">\"</span><span class="s">otros_email</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">example_1@loyal.ink</span><span class="se">\"</span><span class="s">}]"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Public-Key'</span><span class="p">:</span> <span class="s">'your-public-api-key'</span><span class="p">,</span>
  <span class="s">'Loyalink-Signature'</span><span class="p">:</span> <span class="s">'your-loyalink-signature'</span><span class="p">,</span>
  <span class="s">'Measurement-Channel'</span><span class="p">:</span> <span class="s">'push'</span><span class="p">,</span>
  <span class="s">'Campaign-Name'</span><span class="p">:</span> <span class="s">'yyyymmdd_example_push.csv'</span><span class="p">,</span>
  <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span>
<span class="p">}</span>
<span class="n">conn</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/v2/survey/push"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://api-example.loyal.ink/api/v2/survey/push'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Public-Key: your-public-api-key'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Loyalink-Signature: your-loyalink-signature'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Measurement-Channel: push'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Campaign-Name: yyyymmdd_example_push.csv'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'[
  {
    "base_hinteraccion": "12:00:00",
    "base_id_cliente": "client_id_1",
    "base_pto_contacto": "structure_code_1",
    "base_finteraccion": "2020-07-06",
    "base_cod_encuesta": "poll_code_1",
    "seg_genero": "gen_1",
    "seg_edad": "edad_1",
    "otros_nombre": "nombre_1",
    "otros_fonocel": "fonocel_1",
    "otros_email": "example_1@loyal.ink"
  }
]'</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">myHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">();</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Public-Key</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-public-api-key</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Loyalink-Signature</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-loyalink-signature</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Measurement-Channel</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">push</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Campaign-Name</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">yyyymmdd_example_push.csv</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">raw</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">([{</span><span class="dl">"</span><span class="s2">base_hinteraccion</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">12:00:00</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_id_cliente</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">client_id_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_pto_contacto</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">structure_code_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_finteraccion</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">2020-07-06</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">base_cod_encuesta</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">poll_code_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">seg_genero</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">gen_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">seg_edad</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">edad_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_nombre</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">nombre_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_fonocel</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">fonocel_1</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">otros_email</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">example_1@loyal.ink</span><span class="dl">"</span><span class="p">}]);</span>

<span class="kd">var</span> <span class="nx">requestOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="nx">myHeaders</span><span class="p">,</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">raw</span><span class="p">,</span>
  <span class="na">redirect</span><span class="p">:</span> <span class="dl">'</span><span class="s1">follow</span><span class="dl">'</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://api-example.loyal.ink/api/v2/survey/push</span><span class="dl">"</span><span class="p">,</span> <span class="nx">requestOptions</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">));</span>
</code></pre></div>
<p>Este endpoint genera un link de encuesta para registro enviado en el body de la petición, el cual puede ser utilizado en cualquier parte y tiene una expiración definida.</p>
<h2 id='http-request-4'>HTTP Request</h2>
<p><code>POST https://api-example.loyal.ink/api/v2/survey/push</code></p>
<h2 id='request-body-4'>Request Body</h2>
<p>En el body de la petición debe ir un arreglo de objetos json, de este tipo:</p>

<blockquote>
<p>En el body de la petición podrían ir 1 objeto que generará un link si es que no hay errores en la petición.</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
          </span><span class="nl">"base_hinteraccion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"base_id_cliente"</span><span class="p">:</span><span class="w"> </span><span class="s2">"client_id_1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"base_pto_contacto"</span><span class="p">:</span><span class="w"> </span><span class="s2">"structure_code_1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"base_finteraccion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-07-06"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"base_cod_encuesta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"poll_code_1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"seg_genero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gen_1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"seg_edad"</span><span class="p">:</span><span class="w"> </span><span class="s2">"edad_1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"otros_nombre"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nombre_1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"otros_fonocel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fonocel_1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"otros_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example_1@loyal.ink"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div><h2 id='required-parameters-3'>Required Parameters</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>base_id_cliente</td>
<td>true</td>
<td>La no existencia de este campo en cada objeto del body provocará el rechazo de la petición.</td>
</tr>
<tr>
<td>base_pto_contacto</td>
<td>true</td>
<td>La no existencia de este campo en cada objeto del body provocará el rechazo de la petición.</td>
</tr>
<tr>
<td>base_finteraccion</td>
<td>true</td>
<td>La no existencia de este campo en cada objeto del body provocará el rechazo de la petición.</td>
</tr>
<tr>
<td>base_cod_encuesta</td>
<td>true</td>
<td>La no existencia de este campo en cada objeto del body provocará el rechazo de la petición.</td>
</tr>
</tbody></table>
<h2 id='optional-headers-3'>Optional Headers</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Measurement-Channel</td>
<td>false</td>
<td>Para este endpoint el valor por defecto es push.</td>
</tr>
<tr>
<td>Campaign-Name</td>
<td>false</td>
<td>La única restricción que tiene es que el nombre comience con una fecha válida en formato yyyymmdd, y se recomienda utilizar nombres diarios del tipo &quot;yyyymmdd_example_channel_descripcion_corta.csv&quot;.</td>
</tr>
</tbody></table>
<h2 id='response-sample-1-10'>Response Sample 1</h2>
<blockquote>
<p>Respuesta obtenida:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example-polls.loyal.ink/survey/MzM4NzMwNzkyNw==/630ab6bb3066e501640341/push/Y2xhdXR2dGE="</span><span class="p">,</span><span class="w">
        </span><span class="nl">"client_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"client_id_01"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Respuesta exitosa.</p>
<h1 id='get-alerts-in-progress'>Get Alerts In Progress</h1><h2 id='get-alerts-in-progress-2'>Get Alerts In Progress</h2>
<p>Este endpoint permite obtener las alertas en proceso para un rango de fechas, y su request http es <code>GET https://api-example.loyal.ink/api/v2/alerts?from=&lt;from&gt;&amp;to=&lt;to&gt;&amp;date_type=&lt;date_type&gt;</code>.</p>
<h2 id='accepted-parameters-5'>Accepted Parameters</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>from</td>
<td>true</td>
<td>Fecha en formato YYYY-MM-DD (la diferencia entre from y to no puede superar 1 día). Esta fecha será completada con &quot; 00:00:00&quot;.</td>
</tr>
<tr>
<td>to</td>
<td>true</td>
<td>Fecha en formato YYYY-MM-DD (la diferencia entre from y to no puede superar 1 día). Esta fecha será completada con &quot; 59:59:59&quot;.</td>
</tr>
<tr>
<td>date_type</td>
<td>true</td>
<td>Admite los valores created (fecha de creación/inserción del registro en la bd), date_poll (fecha de encuesta) o date_exp (fecha de experiencia/interacción).</td>
</tr>
<tr>
<td>start_hour</td>
<td>false</td>
<td>Hora en formato hh:mm:ss (si no se incluye por defecto se utiliza &quot;00:00:00&quot;).</td>
</tr>
<tr>
<td>end_hour</td>
<td>false</td>
<td>Hora en formato hh:mm:ss (si no se incluye por defecto se utiliza &quot;23:59:59&quot;).</td>
</tr>
<tr>
<td>emails</td>
<td>false</td>
<td>Admite correos separados por coma para filtrar responsables.</td>
</tr>
<tr>
<td>segments_ids</td>
<td>false</td>
<td>Admite ids de segments separados por coma para añadirlos a la respuesta.</td>
</tr>
<tr>
<td>others_ids</td>
<td>false</td>
<td>Admite ids de others separados por coma para añadirlos a la respuesta.</td>
</tr>
<tr>
<td>id_level_2</td>
<td>false</td>
<td>Admite ids de estructuras con nivel 2 (ver servicio &quot;Essential Get / Get Structures Tree with filters&quot; para más detalles).</td>
</tr>
<tr>
<td>id_level_3</td>
<td>false</td>
<td>Admite ids de estructuras con nivel 3 (ver servicio &quot;Essential Get / Get Structures Tree with filters&quot; para más detalles).</td>
</tr>
<tr>
<td>id_level_4</td>
<td>false</td>
<td>Admite ids de estructuras con nivel 4 (ver servicio &quot;Essential Get / Get Structures Tree with filters&quot; para más detalles).</td>
</tr>
<tr>
<td>id_level_5</td>
<td>false</td>
<td>Admite ids de estructuras con nivel 5 (ver servicio &quot;Essential Get / Get Structures Tree with filters&quot; para más detalles).</td>
</tr>
<tr>
<td>id_level_6</td>
<td>false</td>
<td>Admite ids de estructuras con nivel 6 (ver servicio &quot;Essential Get / Get Structures Tree with filters&quot; para más detalles).</td>
</tr>
<tr>
<td>id_level_7</td>
<td>false</td>
<td>Admite ids de estructuras con nivel 7 (ver servicio &quot;Essential Get / Get Structures Tree with filters&quot; para más detalles).</td>
</tr>
</tbody></table>
<h2 id='request-restrictions-6'>Request Restrictions</h2>
<ol>
<li>La diferencia entre from y to no puede superar 1 día.</li>
</ol>
<h2 id='example-with-required-parameters-2'>Example With Required Parameters</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> GET <span class="s1">'https://api-example.loyal.ink/api/v2/alerts?from=2021-05-10&amp;to=2021-05-10&amp;date_type=created'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Public-Key: your-public-api-key'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Loyalink-Signature: your-loyalink-signature'</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s2">"uri"</span>
<span class="nb">require</span> <span class="s2">"net/http"</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api-example.loyal.ink/api/v2/alerts?from=2021-05-10&amp;to=2021-05-10&amp;date_type=created"</span><span class="p">)</span>

<span class="n">https</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">https</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Public-Key"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-public-api-key"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Loyalink-Signature"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-loyalink-signature"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">https</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"api-example.loyal.ink"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Public-Key'</span><span class="p">:</span> <span class="s">'your-public-api-key'</span><span class="p">,</span>
  <span class="s">'Loyalink-Signature'</span><span class="p">:</span> <span class="s">'your-loyalink-signature'</span>
<span class="p">}</span>
<span class="n">conn</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/v2/alerts?from=2021-05-10&amp;to=2021-05-10&amp;date_type=created"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">myHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">();</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Public-Key</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-public-api-key</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Loyalink-Signature</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-loyalink-signature</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">requestOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="nx">myHeaders</span><span class="p">,</span>
  <span class="na">redirect</span><span class="p">:</span> <span class="dl">'</span><span class="s1">follow</span><span class="dl">'</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://api-example.loyal.ink/api/v2/alerts?from=2021-05-10&amp;to=2021-05-10&amp;date_type=created</span><span class="dl">"</span><span class="p">,</span> <span class="nx">requestOptions</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">));</span>
</code></pre></div>
<p><code>GET https://api-example.loyal.ink/api/v2/alerts?from=2021-05-10&amp;to=2021-05-10&amp;date_type=created</code> permite obtener las alertas en progreso del día 2021-05-10.</p>
<h2 id='response-sample-1-11'>Response Sample 1</h2>
<blockquote>
<p>Respuesta obtenida:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"identificador_único_de_loyalink_para_el_cierre"</span><span class="p">:</span><span class="w"> </span><span class="s2">"609029dc9e205111226551"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"responsable"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example@loyal.ink"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fecha_de_emisión_de_la_alerta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-10 09:00:57"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nombre_de_la_alerta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Regla de alerta 24"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id_único_de_loyalink"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
            </span><span class="nl">"identificador_del_encuestado"</span><span class="p">:</span><span class="w"> </span><span class="mi">123456789</span><span class="p">,</span><span class="w">
            </span><span class="nl">"código_de_estructura"</span><span class="p">:</span><span class="w"> </span><span class="s2">"structure_code_1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nombre_de_la_estructura"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nombre de estructura para structure_code_1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nota"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="nl">"verbatim"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verbatim del encuestado"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fecha_de_experiencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-04-29 00:00:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fecha_de_encuesta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-07 21:52:31"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fecha_de_codificación"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-13 23:34:23"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"macro_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"macrodriver_1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"inter_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"interdriver_1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"micro_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"microdriver_1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"macro_2"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"inter_2"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"micro_2"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"macro_3"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"inter_3"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"micro_3"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Respuesta exitosa utilizando solo parámetros obligatorios.</p>
<h2 id='example-with-emails-segments_ids-others_ids-parameters'>Example With emails, segments_ids, others_ids Parameters</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> GET <span class="s1">'https://api-example.loyal.ink/api/v2/alerts?from=2021-05-10&amp;to=2021-05-10&amp;date_type=created&amp;emails=example1@loyal.ink,example2@loyal.ink&amp;others_ids=101,105&amp;segments_ids=101'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Public-Key: your-public-api-key'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Loyalink-Signature: your-loyalink-signature'</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s2">"uri"</span>
<span class="nb">require</span> <span class="s2">"net/http"</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api-example.loyal.ink/api/v2/alerts?from=2021-05-10&amp;to=2021-05-10&amp;date_type=created&amp;emails=example1@loyal.ink,example2@loyal.ink&amp;others_ids=101,105&amp;segments_ids=101"</span><span class="p">)</span>

<span class="n">https</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">https</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Public-Key"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-public-api-key"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Loyalink-Signature"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-loyalink-signature"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">https</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"api-example.loyal.ink"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="s">''</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Public-Key'</span><span class="p">:</span> <span class="s">'your-public-api-key'</span><span class="p">,</span>
  <span class="s">'Loyalink-Signature'</span><span class="p">:</span> <span class="s">'your-loyalink-signature'</span>
<span class="p">}</span>
<span class="n">conn</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="s">"/api/v2/alerts?from=2021-05-10&amp;to=2021-05-10&amp;date_type=created&amp;emails=example1@loyal.ink,example2@loyal.ink&amp;others_ids=101,105&amp;segments_ids=101"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">myHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">();</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Public-Key</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-public-api-key</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Loyalink-Signature</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-loyalink-signature</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">requestOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="nx">myHeaders</span><span class="p">,</span>
  <span class="na">redirect</span><span class="p">:</span> <span class="dl">'</span><span class="s1">follow</span><span class="dl">'</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://api-example.loyal.ink/api/v2/alerts?from=2021-05-10&amp;to=2021-05-10&amp;date_type=created&amp;emails=example1@loyal.ink,example2@loyal.ink&amp;others_ids=101,105&amp;segments_ids=101</span><span class="dl">"</span><span class="p">,</span> <span class="nx">requestOptions</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">));</span>
</code></pre></div>
<p><code>GET https://api-example.loyal.ink/api/v2/alerts?from=2021-05-10&amp;to=2021-05-10&amp;date_type=created&amp;emails=example1@loyal.ink,example2@loyal.ink&amp;others_ids=101,105&amp;segments_ids=101</code> permite obtener las alertas en progreso del día 2021-05-10 para responsables específicos y añadiendo algunos campos segments/others a la respuesta.</p>
<h2 id='response-sample-2-8'>Response Sample 2</h2>
<blockquote>
<p>Respuesta obtenida:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"identificador_único_de_loyalink_para_el_cierre"</span><span class="p">:</span><span class="w"> </span><span class="s2">"609029dc9e205111226551"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"responsable"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example1@loyal.ink"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fecha_de_emisión_de_la_alerta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-10 09:00:57"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nombre_de_la_alerta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Regla de alerta 24"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id_único_de_loyalink"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
            </span><span class="nl">"identificador_del_encuestado"</span><span class="p">:</span><span class="w"> </span><span class="mi">123456789</span><span class="p">,</span><span class="w">
            </span><span class="nl">"código_de_estructura"</span><span class="p">:</span><span class="w"> </span><span class="s2">"structure_code_1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nombre_de_la_estructura"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nombre de estructura para structure_code_1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nota"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="nl">"verbatim"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verbatim del encuestado"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fecha_de_experiencia"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-04-29 00:00:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fecha_de_encuesta"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-07 21:52:31"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fecha_de_codificación"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-13 23:34:23"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"macro_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"macrodriver_1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"inter_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"interdriver_1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"micro_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"microdriver_1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"macro_2"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"inter_2"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"micro_2"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"macro_3"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"inter_3"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"micro_3"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"otros_nombre"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nombre del encuestado"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"otros_fonocel"</span><span class="p">:</span><span class="w"> </span><span class="mi">56987654321</span><span class="p">,</span><span class="w">
            </span><span class="nl">"seg_genero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Femenino"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Respuesta exitosa utilizando parámetros obligatorios y algunos voluntarios.</p>
<h1 id='post-close-alerts-in-progress'>Post Close Alerts In Progress</h1><h2 id='post-close-alerts-in-progress-2'>Post Close Alerts In Progress</h2>
<p>Este endpoint permite cerrar la gestión de una alerta en progreso, y su request http es <code>POST https://api-example.loyal.ink/api/v2/alerts?from=&lt;from&gt;&amp;to=&lt;to&gt;&amp;date_type=&lt;date_type&gt;</code>.</p>
<h2 id='accepted-parameters-in-body-3'>Accepted Parameters In Body</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>true</td>
<td>Identificador único de la alerta que se desea cerrar (se obtiene en el servicio &quot;Get Alerts In Progress&quot;.</td>
</tr>
<tr>
<td>email</td>
<td>true</td>
<td>Correo del usuario que se encargó de cerrar el caso (debe existir entre los usuarios de example.loyal.ink).</td>
</tr>
<tr>
<td>management_id</td>
<td>true</td>
<td>Admite los valores 3 (se le asigna el estado &quot;Resuelto&quot; a la gestión) y 4 (se le asigna el estado &quot;Cerrado sin contacto&quot; a la gestión).</td>
</tr>
<tr>
<td>verbatim</td>
<td>false</td>
<td>Permite añadir un comentario con las medidas tomadas para cerrar el caso. Si no se incluye este valor se asumirá por defecto &quot;&quot;.</td>
</tr>
</tbody></table>
<h2 id='request-restrictions-7'>Request Restrictions</h2>
<ol>
<li>Solo se puede cerrar un caso a la vez.</li>
</ol>
<h2 id='example-with-parameters-6'>Example With Parameters</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://api-example.loyal.ink/api/v2/alerts'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Public-Key: your-public-api-key'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Loyalink-Signature: your-loyalink-signature'</span>
<span class="nt">--header</span> <span class="s1">'Content-Type: text/plain'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "uuid":"61840f5b56b10280619920",
    "email":"example1@loyal.ink",
    "management_id":3,
    "verbatim":"Comentario que explica cómo se cerró el caso"
}'</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s2">"uri"</span>
<span class="nb">require</span> <span class="s2">"net/http"</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api-example.loyal.ink/api/v2/alerts"</span><span class="p">)</span>

<span class="n">https</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">https</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Public-Key"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-public-api-key"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Loyalink-Signature"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"your-loyalink-signature"</span>
<span class="n">request</span><span class="p">[</span><span class="s2">"Content-Type"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"text/plain"</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="s2">"{</span><span class="se">\r\n</span><span class="s2">    </span><span class="se">\"</span><span class="s2">uuid</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">61840f5b56b10280619920</span><span class="se">\"</span><span class="s2">,</span><span class="se">\r\n</span><span class="s2">    </span><span class="se">\"</span><span class="s2">email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">example1@loyal.ink</span><span class="se">\"</span><span class="s2">,</span><span class="se">\r\n</span><span class="s2">    </span><span class="se">\"</span><span class="s2">management_id</span><span class="se">\"</span><span class="s2">:3,</span><span class="se">\r\n</span><span class="s2">    </span><span class="se">\"</span><span class="s2">verbatim</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Comentario que explica cómo se cerró el caso</span><span class="se">\"\r\n</span><span class="s2">}"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">https</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">http.client</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s">"api-example.loyal.ink"</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\r\n</span><span class="s">    </span><span class="se">\"</span><span class="s">uuid</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">61840f5b56b10280619920</span><span class="se">\"</span><span class="s">,</span><span class="se">\r\n</span><span class="s">    </span><span class="se">\"</span><span class="s">email</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">example1@loyal.ink</span><span class="se">\"</span><span class="s">,</span><span class="se">\r\n</span><span class="s">    </span><span class="se">\"</span><span class="s">management_id</span><span class="se">\"</span><span class="s">:3,</span><span class="se">\r\n</span><span class="s">    </span><span class="se">\"</span><span class="s">verbatim</span><span class="se">\"</span><span class="s">:</span><span class="se">\"</span><span class="s">Comentario que explica cómo se cerró el caso</span><span class="se">\"\r\n</span><span class="s">}"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Public-Key'</span><span class="p">:</span> <span class="s">'your-public-api-key'</span><span class="p">,</span>
  <span class="s">'Loyalink-Signature'</span><span class="p">:</span> <span class="s">'your-loyalink-signature'</span><span class="p">,</span>
  <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'text/plain'</span>
<span class="p">}</span>
<span class="n">conn</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"/api/v2/alerts"</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">getresponse</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">myHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">();</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Public-Key</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-public-api-key</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Loyalink-Signature</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">your-loyalink-signature</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">text/plain</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">raw</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">{</span><span class="se">\r\n</span><span class="s2">    </span><span class="se">\"</span><span class="s2">uuid</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">61840f5b56b10280619920</span><span class="se">\"</span><span class="s2">,</span><span class="se">\r\n</span><span class="s2">    </span><span class="se">\"</span><span class="s2">email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">example1@loyal.ink</span><span class="se">\"</span><span class="s2">,</span><span class="se">\r\n</span><span class="s2">    </span><span class="se">\"</span><span class="s2">management_id</span><span class="se">\"</span><span class="s2">:3,</span><span class="se">\r\n</span><span class="s2">    </span><span class="se">\"</span><span class="s2">verbatim</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Comentario que explica cómo se cerró el caso</span><span class="se">\"\r\n</span><span class="s2">}</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">requestOptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="nx">myHeaders</span><span class="p">,</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">raw</span><span class="p">,</span>
  <span class="na">redirect</span><span class="p">:</span> <span class="dl">'</span><span class="s1">follow</span><span class="dl">'</span>
<span class="p">};</span>

<span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://api-example.loyal.ink/api/v2/alerts</span><span class="dl">"</span><span class="p">,</span> <span class="nx">requestOptions</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">));</span>
</code></pre></div>
<p><code>POST https://api-example.loyal.ink/api/v2/alerts</code> con el body de los ejemplos permite cerrar la gestión del caso &quot;61840f5b56b10280619920&quot;.</p>
<h2 id='response-sample-1-12'>Response Sample 1</h2>
<blockquote>
<p>Respuesta obtenida:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"El registro ha sido insertado exitosamente."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Respuesta exitosa.</p>
<h1 id='errors'>Errors</h1>
<p>Loyalink API usa los siguentes códigos de error</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests.</td>
</tr>
</tbody></table>
<h2 id='internal-error-codes'>Internal Error Codes</h2>
<p>Usualmente cuando ocurre un error 4xx, estos irán acompañados de códigos de error internos que se detallan a continuación:</p>

<table><thead>
<tr>
<th>Internal Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>600</td>
<td>Existe un campo que no es aceptado.</td>
</tr>
<tr>
<td>601</td>
<td>Falta un campo requerido.</td>
</tr>
<tr>
<td>602</td>
<td>Este campo no puede estar vacio.</td>
</tr>
<tr>
<td>603</td>
<td>Error de formato en la fecha (formato aceptado YYYY-MM-DD).</td>
</tr>
<tr>
<td>604</td>
<td>Campo no existente en structures.code</td>
</tr>
<tr>
<td>605</td>
<td>Campo no existente en polls.code</td>
</tr>
<tr>
<td>606</td>
<td>Error de formato en la hora (formato aceptado HH:MM:SS).</td>
</tr>
<tr>
<td>607</td>
<td>No existe el campo baseloads.data en la base de datos.</td>
</tr>
<tr>
<td>608</td>
<td>La fecha de from debe ser mayor o igual a la de to.</td>
</tr>
<tr>
<td>609</td>
<td>El rango de días entre from y start no puede ser superior a 15.</td>
</tr>
<tr>
<td>610</td>
<td> El valor de active contiene un valor incorrecto.</td>
</tr>
<tr>
<td>611</td>
<td> Uno de los valores de ids no es un entero.</td>
</tr>
<tr>
<td>612</td>
<td> Unos de los emails presenta un formato incorrecto</td>
</tr>
<tr>
<td>613</td>
<td> El valor de base_nota no esta dentro del rango aceptado [0, 10]</td>
</tr>
<tr>
<td>614</td>
<td> Error de formato en la fecha (formato aceptado YYYY-MM-DD HH:MM:SS).</td>
</tr>
<tr>
<td>615</td>
<td> Se excede el limite máximo de registros a insertar (máximo = 1500)</td>
</tr>
<tr>
<td>616</td>
<td> El campo solo acepta los valores 0 o 1.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="ruby">ruby</a>
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
